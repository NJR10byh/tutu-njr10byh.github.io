(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-374abea0"],{"2ab0":function(t,e,a){"use strict";a("5e67")},"5e67":function(t,e,a){},9633:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Examing_Container"},[a("div",{staticClass:"head-btn"},[a("div",{staticClass:"Search"}),a("div",{staticClass:"newin_refresh"},[a("div",{staticClass:"refresh"},[a("el-button",{attrs:{icon:"el-icon-plus"},on:{click:t.create_contract}},[t._v("创建合同 ")]),a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:t.refresh}},[t._v("刷新列表 ")])],1)])]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",staticClass:"tablestyle",staticStyle:{width:"100%"},attrs:{id:"outTable",data:t.tableData,"tooltip-effect":"dark",stripe:""}},[a("el-table-column",{attrs:{prop:"index",label:"序号",width:"70"}}),a("el-table-column",{attrs:{prop:"projectName",label:"项目名称"}}),a("el-table-column",{attrs:{prop:"projectCode",label:"合同编号"}}),a("el-table-column",{attrs:{prop:"paName",label:"受让方"}}),a("el-table-column",{attrs:{prop:"totalTransferAmount",label:"转让总金额（万元）",width:"160"}}),a("el-table-column",{attrs:{prop:"state",label:"状态"}}),a("el-table-column",{attrs:{prop:"gmtUpdate",label:"更新时间",width:"170"}}),a("el-table-column",{attrs:{prop:"setting",label:"操作",width:"450"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"settings"},["等待上传合同"==e.row.state?a("el-button",{attrs:{icon:"el-icon-document"},on:{click:function(a){return t.seeContract(e.row)}}},[t._v(" 查看 ")]):t._e(),"等待上传合同"==e.row.state?a("el-upload",{ref:"upload",attrs:{action:"/pdf/upload","show-file-list":!1,"http-request":t.Upload}},[a("el-button",{attrs:{icon:"el-icon-upload2"},on:{click:function(a){return t.upload(e.row,"Contract")}}},[t._v(" 上传(盖章) ")])],1):t._e(),"等待上传合同"==e.row.state?a("el-button",{attrs:{icon:"el-icon-printer"},on:{click:function(a){return t.generateContract(e.row)}}},[t._v(" 生成 ")]):t._e(),"等待上传合同"==e.row.state?a("el-button",{attrs:{icon:"el-icon-edit-outline"},on:{click:function(a){return t.editContract(e.row)}}},[t._v(" 修改 ")]):t._e(),"等待上传合同"==e.row.state?a("el-button",{attrs:{icon:"el-icon-delete"},on:{click:function(a){return t.deleteContract(e.row)}}},[t._v(" 删除 ")]):t._e(),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"查看合同",placement:"bottom"}},[a("el-button",{attrs:{icon:"el-icon-document"},on:{click:function(a){return t.seeContract(e.row)}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"生成公示页面",placement:"bottom"}},["等待公示"==e.row.state?a("el-button",{attrs:{icon:"el-icon-link"},on:{click:function(a){return t.GetPublic(e.row)}}}):t._e()],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"已开始公示",placement:"bottom"}},["等待公示"==e.row.state?a("el-button",{attrs:{icon:"el-icon-reading"},on:{click:function(a){return t.BeginPublic(e.row)}}}):t._e()],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"下载合同",placement:"bottom"}},[["等待上传到款凭证","等待上传认定清单（备案）","等待生成入账通知单","等待上传发票","等待流程结束"].includes(e.row.state)?a("el-button",{attrs:{icon:"el-icon-s-order"},on:{click:function(a){return t.download(e.row,"Contract")}}}):t._e()],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"下载到款凭证",placement:"bottom"}},[["等待上传认定清单（备案）","等待生成入账通知单","等待上传发票","等待流程结束"].includes(e.row.state)?a("el-button",{attrs:{icon:"el-icon-s-finance"},on:{click:function(a){return t.download(e.row,"Voucher")}}}):t._e()],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"下载认定清单",placement:"bottom"}},[["等待生成入账通知单","等待上传发票","等待流程结束"].includes(e.row.state)?a("el-button",{attrs:{icon:"el-icon-s-claim"},on:{click:function(a){return t.download(e.row,"Checklist")}}}):t._e()],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"下载入账通知单",placement:"bottom"}},[["等待上传发票","等待流程结束"].includes(e.row.state)?a("el-button",{attrs:{icon:"el-icon-s-finance"},on:{click:function(a){return t.download(e.row,"AccountingInfo")}}}):t._e()],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"上传到款凭证",placement:"bottom"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/pdf/upload","show-file-list":!1,"http-request":t.Upload}},[["等待上传到款凭证","等待上传到款凭证"].includes(e.row.state)?a("el-button",{attrs:{icon:"el-icon-upload2"},on:{click:function(a){return t.upload(e.row,"Voucher")}}}):t._e()],1)],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提交认定清单",placement:"bottom"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/pdf/upload","show-file-list":!1,"http-request":t.Upload}},["等待上传认定清单（备案）"==e.row.state?a("el-button",{attrs:{icon:"el-icon-document-checked"},on:{click:function(a){return t.upload(e.row,"Checklist")}}}):t._e()],1)],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"生成入账通知单",placement:"bottom"}},[["等待生成入账通知单"].includes(e.row.state)?a("el-button",{attrs:{icon:"el-icon-receiving"},on:{click:function(a){return t.getAccountingInfo(e.row)}}}):t._e()],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提交发票",placement:"bottom"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/pdf/upload","show-file-list":!1,"http-request":t.Upload}},["等待上传发票"==e.row.state?a("el-button",{attrs:{icon:"el-icon-tickets"},on:{click:function(a){return t.upload(e.row,"Invoice")}}}):t._e()],1)],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"下载发票",placement:"bottom"}},["等待流程结束"==e.row.state?a("el-button",{attrs:{icon:"el-icon-s-check"},on:{click:function(a){return t.download(e.row,"Invoice")}}}):t._e()],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"确认流程结束",placement:"bottom"}},["等待流程结束"==e.row.state?a("el-button",{attrs:{icon:"el-icon-circle-check"},on:{click:function(a){return t.ConfirmEnd(e.row)}}}):t._e()],1)],1)]}}])})],1),a("div",{staticClass:"PagesCurb"},[a("el-pagination",{staticClass:"pages",attrs:{currentPage:t.currentPage,"page-size":10,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentPage}})],1),a("el-dialog",{staticClass:"Public_Dialog",attrs:{visible:t.PublicDialog,width:"50%"},on:{"update:visible":function(e){t.PublicDialog=e}}},[a("el-card",{staticClass:"card",attrs:{shadow:"hover"}},[a("div",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("公示内容")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:t.Copy}},[t._v(" 复 制 ")])],1),a("div",{staticClass:"below",attrs:{id:"CopyContent"}},[a("div",[t._v(" 知识产权转让公示（"),a("span",[t._v(t._s(t.public_content.projectCode)+" ")]),t._v("） ")]),a("br"),a("div",[t._v(" 根据《中华人民共和国促进科技成果转化法》相关规定，现对学校拟向外转让的知识产权进行公示。 ")]),a("br"),a("div",[a("table",{attrs:{border:"1",cellspacing:"0",id:"patent_table"}},[a("tr",[a("th",[t._v("专利名称")]),a("th",[t._v("发明人")]),a("th",[t._v("专利号")])])])]),a("br"),a("div",[t._v(" 经双方协商，以上1件专利转让给 "),a("span",[t._v(t._s(t.public_content.paName))]),t._v(" ，转让金额共计人民币 "),a("span",[t._v(t._s(t.public_content.totalTransferAmount))]),t._v(" 万元整。该交易不是关联交易。若有异议，请于公告之日起 "),a("span",[t._v("15")]),t._v(" 日内向产学研合作处（技术转移中心）书面实名提出并提供相应的证明材料。 ")]),a("br"),a("div",[t._v("咨询电话：85866885，E-mail：jszy@njupt.edu.cn")]),a("br"),a("div",{staticClass:"bottom"},[a("div",[t._v("产学研合作处（技术转移中心）")]),a("div",{staticStyle:{"margin-top":"10px"}},[t._v("公告日：2022年1月13日")])])])])],1)],1)},n=[],r=a("1da1"),c=(a("ac1f"),a("1276"),a("fb6a"),a("b0c0"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("96cf"),{data:function(){return{tableData:[],loading:!0,total:0,currentPage:1,Page_url:"",SearchType:"查询字段",SearchText:"",choose_Dialog:!1,choose_Data:[],choose_loading:!0,choosed_patents:[],upload_content:{type:"",contractInfoId:""},PublicDialog:!1,public_content:{projectCode:"",paName:"",totalTransferAmount:0}}},created:function(){this.refresh()},methods:{refresh:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.tableData=[],a.currentPage=1,a.SearchType="查询字段",a.SearchText="",console.log(t.$store.state),o="/contract/getContractPage?currPage="+a.currentPage+"&size=10",a.Page_url=o,e.next=10,a.getContract(o);case 10:case"end":return e.stop()}}),e)})))()},getContract:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=e,o.tableData=[],a.next=4,o.request(t,{},"GET",{}).then((function(t){if(console.log(t.data),o.loading=!1,"success"==t.data.status){o.total=t.data.data.total;for(var a=0;a<t.data.data.records.length;a++){var n={};n.index=a+1,n.arbitrationCommission=t.data.data.records[a].arbitrationCommission,n.contractInfoId=t.data.data.records[a].contractInfoId,n.contractSigningDate=t.data.data.records[a].contractSigningDate,n.disputeSettlementMethod=t.data.data.records[a].disputeSettlementMethod,n.gmtUpdate=t.data.data.records[a].gmtUpdate,n.invoicingEnterprise=t.data.data.records[a].invoicingEnterprise,n.paAddress=t.data.data.records[a].paAddress,n.paContactEmail=t.data.data.records[a].paContactEmail,n.paContactPerson=t.data.data.records[a].paContactPerson,n.paContactPhone=t.data.data.records[a].paContactPhone,n.paMailingAddress=t.data.data.records[a].paMailingAddress,n.paName=t.data.data.records[a].paName,n.paRepresentative=t.data.data.records[a].paRepresentative,n.patentNum=t.data.data.records[a].patentNum,n.paymentMethod=t.data.data.records[a].paymentMethod,n.pbContactPerson=t.data.data.records[a].pbContactPerson,n.pbImplPatentRight=t.data.data.records[a].pbImplPatentRight,n.pbLicensedPatentRight=t.data.data.records[a].pbLicensedPatentRight,n.projectCode=t.data.data.records[a].projectCode,n.projectName=t.data.data.records[a].projectName,n.taxpayerCode=t.data.data.records[a].taxpayerCode,n.totalTransferAmount=t.data.data.records[a].totalTransferAmount,null==t.data.data.records[a].contractFileId?n.state="等待上传合同":t.data.data.records[a].isPublicNotice?o.TimeDiffer(t.data.data.records[a].publicNoticeTime)?null==t.data.data.records[a].voucherId?n.state="等待上传到款凭证":null==t.data.data.records[a].checklistId?n.state="等待上传认定清单（备案）":null==t.data.data.records[a].accountingInfoId?n.state="等待生成入账通知单":null==t.data.data.records[a].invoiceId?n.state="等待上传发票":t.data.data.records[a].isComplete||(n.state="等待流程结束"):n.state="正在公示中":n.state="等待公示",o.tableData.push(n)}e.$message({message:"数据已更新！",type:"success"})}else e.$message({message:t.data.data.errMsg,type:"error"})})).catch((function(t){console.log(t),o.loading=!1,e.$message({message:"出错了！",type:"error"})}));case 4:case"end":return a.stop()}}),a)})))()},handleCurrentPage:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var o,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=e,o.loading=!0,console.log(o.Page_url),n=o.Page_url.split("currPage")[0]+"currPage="+t+"&size"+o.Page_url.split("size")[1],console.log(n),o.tableData=[],o.currentPage=t,a.next=9,o.getContract(n);case 9:case"end":return a.stop()}}),a)})))()},TimeTransfer:function(t){var e=new Date(t),a=e.getFullYear(),o=e.getMonth()+1,n=e.getDate(),r=e.getHours(),c=e.getMinutes(),s=e.getSeconds(),l=a+"-";return o<10&&(l+="0"),l+=o+"-",n<10&&(l+="0"),l+=n+" ",r<10&&(l+="0"),l+=r+":",c<10&&(l+="0"),l+=c+":",s<10&&(l+="0"),l+=s,l},TimeDiffer:function(t){var e=this.TimeTransfer(t),a=new Date,o=new Date(e),n=(a-o)/1e3,r=parseInt(n/86400);parseInt(n/3600),parseInt(n%3600/60),parseInt(n%60);return!0},handleDropdown:function(t){var e=this;e.SearchType=t},create_contract:function(){this.$router.push({path:"/filling_contract",query:{type:"filling"}})},search:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t,a.loading=!0,"查询字段"!=a.SearchType){e.next=6;break}t.$message({message:"请填写查询字段！",type:"warning"}),e.next=24;break;case 6:if(""!=a.SearchText){e.next=10;break}t.$message({message:"请填写查询内容！",type:"warning"}),e.next=24;break;case 10:o="",a.tableData=[],a.currentPage=1,e.t0=a.SearchType,e.next="姓名"===e.t0?16:"专利名称"===e.t0?19:22;break;case 16:return o="/process/getTransferApplicationFromPageByProcessCreatorName?currPage="+a.currentPage+"&size=10&processCreatorName="+a.SearchText,a.Page_url=o,e.abrupt("break",23);case 19:return o="/process/getTransferApplicationFromPageByZLMC?currPage="+a.currentPage+"&size=10&zlmc="+a.SearchText,a.Page_url=o,e.abrupt("break",23);case 22:return e.abrupt("break",23);case 23:a.getContract(o);case 24:case"end":return e.stop()}}),e)})))()},seeContract:function(t){console.log(t),this.$router.push({path:"/contract_detail",query:{contractInfoId:t.contractInfoId}})},upload:function(t,e){console.log(t),this.upload_content.type=e,this.upload_content.contractInfoId=t.contractInfoId},Upload:function(t){var e=this,a=this;console.log(t);var o="";switch(a.upload_content.type){case"Contract":o="/transferring/uploadContract";break;case"Voucher":o="/transferring/uploadVoucher";break;case"Invoice":o="/transferring/uploadInvoice";break;case"Checklist":o="/transferring/uploadChecklist";break;default:break}if("pdf"!=t.file.name.split(".").slice(-1))this.$message.warning("上传文件只能是pdf格式!");else{var n=new FormData;n.append("file",t.file),n.append("contractInfoId",a.upload_content.contractInfoId),console.log(n),a.request(o,n,"POST",{}).then((function(t){console.log(t),"success"==t.data.status?(e.$message({type:"success",message:"上传成功！"}),a.refresh()):e.$message({message:t.data.data.errMsg,type:"error"})})).catch((function(t){console.log(t),e.$message({message:"出错了！",type:"error"})}))}},generateContract:function(t){var e=this,a=this;console.log(t);var o="/contract/generateContract?contractInfoId="+t.contractInfoId;a.request(o,{},"GET",{},"blob").then((function(t){console.log(t);try{console.log(t.data);var a=new Blob([t.data]),o="合同.doc",n=document.createElement("a");n.download=o,n.style.display="none",n.href=URL.createObjectURL(a),document.body.appendChild(n),n.click(),URL.revokeObjectURL(n.href),document.body.removeChild(n)}catch(r){console.log(r),e.$message({message:"数据请求失败！",type:"error"})}})).catch((function(t){console.log(t),e.$message({message:"出错了！",type:"error"})}))},editContract:function(t){console.log(t),this.$router.push({path:"/filling_contract",query:{contractInfoId:t.contractInfoId,type:"edit"}})},deleteContract:function(t){},GetPublic:function(t){var e=this,a=this;console.log(t);var o="/contract/getContractById?contractInfoId="+t.contractInfoId;a.request(o,{},"GET",{}).then((function(t){if(console.log(t.data),"success"==t.data.status){e.public_content.paName=t.data.data.paName,e.public_content.totalTransferAmount=t.data.data.totalTransferAmount;var a=document.getElementById("patent_table");console.log(a.rows.length);for(var o=a.rows.length-1;o>0;o--)a.deleteRow(o);for(var n=0;n<t.data.data.patentInfo.length;n++){var r=a.insertRow(n+1);r.insertCell(0).innerHTML=t.data.data.patentInfo[n].zlmc,r.insertCell(1).innerHTML=t.data.data.patentInfo[n].zldyzzxm,r.insertCell(2).innerHTML=t.data.data.patentInfo[n].sqggh}}else e.$message({message:t.data.data.errMsg,type:"error"})})).catch((function(t){console.log(t)})),this.public_content.projectCode=t.projectCode,this.PublicDialog=!0},Copy:function(){this.selectElementContents(document.getElementById("CopyContent"))},selectElementContents:function(t){var e,a;document.body;if(document.createRange&&window.getSelection){e=document.createRange(),a=window.getSelection(),a.removeAllRanges();try{e.selectNodeContents(t),a.addRange(e)}catch(o){e.selectNode(t),a.addRange(e)}document.execCommand("copy"),window.getSelection().empty(),this.$message({message:"已复制",type:"success"})}},BeginPublic:function(t){var e=this,a=this;console.log(t),this.$confirm("确认已经开始公示了吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var o="/transferring/makePublicNotice?contractInfoId="+t.contractInfoId;a.request(o,{},"GET",{}).then((function(t){console.log(t.data),"success"==t.data.status?(e.$message({type:"success",message:"开始公示！"}),a.refresh()):e.$message({message:t.data.data.errMsg,type:"error"})})).catch((function(t){console.log(t),e.$message({message:"出错了！",type:"error"})}))})).catch((function(){e.$message({type:"info",message:"已取消操作！"})}))},download:function(t,e){var a=this,o=this,n="",r="",c="";switch(e){case"Contract":n="/transferring/downloadContract?contractInfoId="+t.contractInfoId,r="合同.pdf",c="pdf";break;case"Voucher":n="/transferring/downloadVoucher?contractInfoId="+t.contractInfoId,r="到款凭证.pdf",c="pdf";break;case"Checklist":n="/transferring/downloadChecklist?contractInfoId="+t.contractInfoId,r="备案清单.pdf",c="pdf";break;case"Invoice":n="/transferring/downloadInvoice?contractInfoId="+t.contractInfoId,r="发票.pdf",c="pdf";break;default:break}"doc"==c?o.request(n,{},"GET",{},"blob").then((function(t){console.log(t);try{console.log(t.data);var e=new Blob([t.data]),o=document.createElement("a");o.download=r,o.style.display="none",o.href=URL.createObjectURL(e),document.body.appendChild(o),o.click(),URL.revokeObjectURL(o.href),document.body.removeChild(o)}catch(n){console.log(n),a.$message({message:"数据请求失败！",type:"error"})}})).catch((function(t){console.log(t),a.$message({message:"出错了！",type:"error"})})):o.request(n,{},"GET",{},"blob").then((function(t){console.log(t);var e=null;try{e=new Blob([t.data],{type:"application/pdf"});var o=URL.createObjectURL(e),n=document.createElement("a");n.href=o,n.setAttribute("download",r),document.body.appendChild(n),n.click(),document.body.removeChild(n)}catch(c){console.log(c),a.$message({message:"数据请求失败！",type:"error"})}})).catch((function(t){console.log(t),a.$message({message:"出错了！",type:"error"})}))},getAccountingInfo:function(t){var e=this,a=this;console.log(t);var o="/contract/generateContract?contractInfoId="+t.contractInfoId;a.request(o,{},"GET",{},"blob").then((function(t){console.log(t);try{console.log(t.data);var a=new Blob([t.data]),o="入账通知单.doc",n=document.createElement("a");n.download=o,n.style.display="none",n.href=URL.createObjectURL(a),document.body.appendChild(n),n.click(),URL.revokeObjectURL(n.href),document.body.removeChild(n)}catch(r){console.log(r),e.$message({message:"数据请求失败！",type:"error"})}})).catch((function(t){console.log(t),e.$message({message:"出错了！",type:"error"})}))},ConfirmEnd:function(t){var e=this,a=this;this.$confirm("确认要结束流程吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var o="/transferring/processComplete?contractInfoId="+t.contractInfoId;a.request(o,{},"GET",{}).then((function(t){"success"==t.data.status?(e.$message({message:"流程已结束！",type:"success"}),a.refresh()):e.$message({message:t.data.data.errMsg,type:"error"})})).catch((function(t){console.log(t),e.$message({message:"出错了！",type:"error"})}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))}}}),s=c,l=(a("2ab0"),a("2877")),i=Object(l["a"])(s,o,n,!1,null,null,null);e["default"]=i.exports},fb6a:function(t,e,a){"use strict";var o=a("23e7"),n=a("861d"),r=a("e8b5"),c=a("23cb"),s=a("50c4"),l=a("fc6a"),i=a("8418"),d=a("b622"),u=a("1dde"),p=a("ae40"),f=u("slice"),g=p("slice",{ACCESSORS:!0,0:0,1:2}),m=d("species"),h=[].slice,b=Math.max;o({target:"Array",proto:!0,forced:!f||!g},{slice:function(t,e){var a,o,d,u=l(this),p=s(u.length),f=c(t,p),g=c(void 0===e?p:e,p);if(r(u)&&(a=u.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?n(a)&&(a=a[m],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return h.call(u,f,g);for(o=new(void 0===a?Array:a)(b(g-f,0)),d=0;f<g;f++,d++)f in u&&i(o,d,u[f]);return o.length=d,o}})}}]);