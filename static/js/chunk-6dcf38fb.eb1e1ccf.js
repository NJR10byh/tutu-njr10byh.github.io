(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6dcf38fb"],{1148:function(t,o,e){"use strict";var r=e("a691"),n=e("1d80");t.exports="".repeat||function(t){var o=String(n(this)),e="",a=r(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(o+=o))1&a&&(e+=o);return e}},"26c3":function(t,o,e){},"408a":function(t,o,e){var r=e("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},6591:function(t,o,e){"use strict";e("26c3")},"66c6":function(t,o,e){"use strict";e.r(o);var r=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"Change_Distribution_Container"},[e("div",{staticClass:"head-btn"},[e("div",{staticClass:"newin_refresh"},[e("div",{staticClass:"refresh"},[e("el-button",{attrs:{icon:"el-icon-plus"},on:{click:function(o){t.plus_proportion_Dialog=!0}}},[t._v(" 增加分配比例 ")]),e("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:t.refresh}},[t._v(" 刷新列表 ")])],1)])]),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",staticClass:"tablestyle",staticStyle:{width:"100%"},attrs:{id:"outTable",data:t.tableData,"tooltip-effect":"dark",stripe:""}},[e("el-table-column",{attrs:{prop:"priceRange",label:"净收益金额（万元）"}}),e("el-table-column",{attrs:{prop:"zlsqrqRange",label:"授权年份"}}),e("el-table-column",{attrs:{prop:"recipientProportion",label:"成果完成人（%）"}}),e("el-table-column",{attrs:{prop:"schoolProportion",label:"学校（%）"}}),e("el-table-column",{attrs:{prop:"agencyProportion",label:"中介（%）"}}),e("el-table-column",{attrs:{prop:"departmentProportion",label:"公司（%）"}}),e("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-button",{attrs:{icon:"el-icon-edit-outline"},on:{click:function(e){return t.FixProportion(o.$index)}}},[t._v(" 修改 ")]),e("el-button",{attrs:{icon:"el-icon-delete"},on:{click:function(e){return t.deleteProportion(o.row)}}},[t._v(" 删除 ")])]}}])})],1),e("el-dialog",{staticClass:"change_proportion",attrs:{title:"增加分配比例",visible:t.plus_proportion_Dialog,width:"60%"},on:{"update:visible":function(o){t.plus_proportion_Dialog=o}}},[e("el-table",{staticClass:"money_table",attrs:{data:t.plus_proportion_Data,border:"",stripe:""}},[e("el-table-column",{attrs:{label:"净收益金额上限（万元）"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-input",{attrs:{type:"number"},model:{value:o.row.priceRangeBegin,callback:function(e){t.$set(o.row,"priceRangeBegin",e)},expression:"scope.row.priceRangeBegin"}})]}}])}),e("el-table-column",{attrs:{label:"净收益金额下限（万元）"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-input",{attrs:{type:"number"},model:{value:o.row.priceRangeEnd,callback:function(e){t.$set(o.row,"priceRangeEnd",e)},expression:"scope.row.priceRangeEnd"}})]}}])}),e("el-table-column",{attrs:{label:"授权年份上限（万元）"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-input",{attrs:{type:"number"},model:{value:o.row.zlsqrqRangeBegin,callback:function(e){t.$set(o.row,"zlsqrqRangeBegin",e)},expression:"scope.row.zlsqrqRangeBegin"}})]}}])}),e("el-table-column",{attrs:{label:"授权年份下限（万元）"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-input",{attrs:{type:"number"},model:{value:o.row.zlsqrqRangeEnd,callback:function(e){t.$set(o.row,"zlsqrqRangeEnd",e)},expression:"scope.row.zlsqrqRangeEnd"}})]}}])}),e("el-table-column",{attrs:{label:"成果完成人"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-input",{attrs:{type:"number"},model:{value:o.row.recipientProportion,callback:function(e){t.$set(o.row,"recipientProportion",e)},expression:"scope.row.recipientProportion"}})]}}])}),e("el-table-column",{attrs:{label:"学校"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-input",{attrs:{type:"number"},model:{value:o.row.schoolProportion,callback:function(e){t.$set(o.row,"schoolProportion",e)},expression:"scope.row.schoolProportion"}})]}}])}),e("el-table-column",{attrs:{label:"中介"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-input",{attrs:{type:"number"},model:{value:o.row.agencyProportion,callback:function(e){t.$set(o.row,"agencyProportion",e)},expression:"scope.row.agencyProportion"}})]}}])}),e("el-table-column",{attrs:{label:"公司"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-input",{attrs:{type:"number"},model:{value:o.row.departmentProportion,callback:function(e){t.$set(o.row,"departmentProportion",e)},expression:"scope.row.departmentProportion"}})]}}])})],1),e("span",{attrs:{slot:"footer"},slot:"footer"},[e("div",{staticClass:"dialog_footer"},[e("div",{staticClass:"buttons"},[e("el-button",{on:{click:function(o){t.plus_proportion_Dialog=!1}}},[t._v(" 取 消 ")]),e("el-button",{attrs:{type:"primary"},on:{click:t.addProportion}},[t._v("增 加")])],1)])])],1),e("el-dialog",{staticClass:"change_proportion",attrs:{title:"修改分配比例",visible:t.fix_proportion_Dialog,width:"80%"},on:{"update:visible":function(o){t.fix_proportion_Dialog=o}}},[e("el-table",{staticClass:"money_table",attrs:{data:t.fix_proportion_Data,border:"",stripe:""}},[e("el-table-column",{attrs:{label:"净收益金额上限（万元）"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-input",{attrs:{type:"number"},model:{value:o.row.priceRangeBegin,callback:function(e){t.$set(o.row,"priceRangeBegin",e)},expression:"scope.row.priceRangeBegin"}})]}}])}),e("el-table-column",{attrs:{label:"净收益金额下限（万元）"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-input",{attrs:{type:"number"},model:{value:o.row.priceRangeEnd,callback:function(e){t.$set(o.row,"priceRangeEnd",e)},expression:"scope.row.priceRangeEnd"}})]}}])}),e("el-table-column",{attrs:{label:"授权年份上限（万元）"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-input",{attrs:{type:"number"},model:{value:o.row.zlsqrqRangeBegin,callback:function(e){t.$set(o.row,"zlsqrqRangeBegin",e)},expression:"scope.row.zlsqrqRangeBegin"}})]}}])}),e("el-table-column",{attrs:{label:"授权年份下限（万元）"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-input",{attrs:{type:"number"},model:{value:o.row.zlsqrqRangeEnd,callback:function(e){t.$set(o.row,"zlsqrqRangeEnd",e)},expression:"scope.row.zlsqrqRangeEnd"}})]}}])}),e("el-table-column",{attrs:{label:"成果完成人"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-input",{attrs:{type:"number"},model:{value:o.row.recipientProportion,callback:function(e){t.$set(o.row,"recipientProportion",e)},expression:"scope.row.recipientProportion"}})]}}])}),e("el-table-column",{attrs:{label:"学校"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-input",{attrs:{type:"number"},model:{value:o.row.schoolProportion,callback:function(e){t.$set(o.row,"schoolProportion",e)},expression:"scope.row.schoolProportion"}})]}}])}),e("el-table-column",{attrs:{label:"中介"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-input",{attrs:{type:"number"},model:{value:o.row.agencyProportion,callback:function(e){t.$set(o.row,"agencyProportion",e)},expression:"scope.row.agencyProportion"}})]}}])}),e("el-table-column",{attrs:{label:"公司"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-input",{attrs:{type:"number"},model:{value:o.row.departmentProportion,callback:function(e){t.$set(o.row,"departmentProportion",e)},expression:"scope.row.departmentProportion"}})]}}])})],1),e("span",{attrs:{slot:"footer"},slot:"footer"},[e("div",{staticClass:"dialog_footer"},[e("div",{staticClass:"buttons"},[e("el-button",{on:{click:function(o){t.fix_proportion_Dialog=!1}}},[t._v(" 取 消 ")]),e("el-button",{attrs:{type:"primary"},on:{click:t.change_confirm}},[t._v("修 改")])],1)])])],1)],1)},n=[],a=e("1da1"),i=(e("b680"),e("96cf"),{data:function(){return{price_type:"转让",tableData:[],loading:!0,change_proportion_Data:[],plus_proportion_Dialog:!1,plus_proportion_Data:[{priceRangeBegin:"",priceRangeEnd:"",zlsqrqRangeBegin:"",zlsqrqRangeEnd:"",recipientProportion:"",schoolProportion:"",agencyProportion:"",departmentProportion:""}],fix_proportion_Dialog:!1,fix_proportion_Data:[]}},created:function(){this.refresh()},methods:{refresh:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function o(){var e;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return t.tableData=[],t.loading=!0,e="/distribution/getDistributionProportion",o.next=5,t.getProportion(e);case 5:case"end":return o.stop()}}),o)})))()},getProportion:function(t){var o=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=o,e.next=3,r.request(t,{},"GET",{}).then((function(t){if(console.log(t.data),r.loading=!1,"success"==t.data.status){for(var e=0;e<t.data.data.length;e++){var n={},a=t.data.data[e].priceRangeBegin+" ~ "+t.data.data[e].priceRangeEnd,i=t.data.data[e].zlsqrqRangeBegin+" ~ "+t.data.data[e].zlsqrqRangeEnd,l=100*t.data.data[e].recipientProportion,s=100*t.data.data[e].schoolProportion,p=100*t.data.data[e].agencyProportion,c=100*t.data.data[e].departmentProportion;console.log(p),n.distributionProportionId=t.data.data[e].distributionProportionId,n.priceRange=a,n.zlsqrqRange=i,n.recipientProportion=1*l.toFixed(2),n.schoolProportion=1*s.toFixed(2),n.agencyProportion=1*p.toFixed(2),n.departmentProportion=1*c.toFixed(2),r.tableData.push(n);var u={};u.distributionProportionId=t.data.data[e].distributionProportionId,u.priceRangeBegin=t.data.data[e].priceRangeBegin,u.priceRangeEnd=t.data.data[e].priceRangeEnd,u.zlsqrqRangeBegin=t.data.data[e].zlsqrqRangeBegin,u.zlsqrqRangeEnd=t.data.data[e].zlsqrqRangeEnd,u.recipientProportion=t.data.data[e].recipientProportion,u.schoolProportion=t.data.data[e].schoolProportion,u.agencyProportion=t.data.data[e].agencyProportion,u.departmentProportion=t.data.data[e].departmentProportion,r.change_proportion_Data.push(u)}o.$message({message:"数据已更新！",type:"success"})}else o.$message({message:t.data.data.errMsg,type:"error"})})).catch((function(t){console.log(t),r.loading=!1,o.$message({message:"出错了！",type:"error"})}));case 3:case"end":return e.stop()}}),e)})))()},addProportion:function(){var t=this,o=this;console.log(o.plus_proportion_Data);var e={};e.priceRangeBegin=1*o.plus_proportion_Data[0].priceRangeBegin,e.priceRangeEnd=1*o.plus_proportion_Data[0].priceRangeEnd,e.zlsqrqRangeBegin=1*o.plus_proportion_Data[0].zlsqrqRangeBegin,e.zlsqrqRangeEnd=1*o.plus_proportion_Data[0].zlsqrqRangeEnd,e.recipientProportion=1*o.plus_proportion_Data[0].recipientProportion,e.schoolProportion=1*o.plus_proportion_Data[0].schoolProportion,e.agencyProportion=1*o.plus_proportion_Data[0].agencyProportion,e.departmentProportion=1*o.plus_proportion_Data[0].departmentProportion,o=this,console.log(e),o.request("/distribution/addDistributionProportion",e,"POST",{}).then((function(e){console.log(e.data),"success"==e.data.status?(t.$notify.success({title:"成功",message:"增加成功！"}),o.plus_proportion_Dialog=!1,o.refresh()):t.$notify.error({title:"错误",message:e.data.data.errMsg})})).catch((function(o){console.log(o),t.$notify.error({title:"错误",message:"出错了！"})}))},deleteProportion:function(t){var o=this;console.log(t);var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var r="/distribution/deleteDistributionProportion?distributionProportionId="+t.distributionProportionId;e.request(r,{},"GET",{}).then((function(t){console.log(t.data),"success"==t.data.status?(o.$notify.success({title:"成功",message:"删除成功！"}),e.refresh()):o.$notify.error({title:"错误",message:t.data.data.errMsg})})).catch((function(t){console.log(t),o.$notify.error({title:"错误",message:"出错了！"})}))})).catch((function(){o.$notify.info({title:"提示",message:"已取消删除！"})}))},FixProportion:function(t){var o=this;o.fix_proportion_Data=[],console.log(o.change_proportion_Data[t]),o.fix_proportion_Data.push(o.change_proportion_Data[t]),o.fix_proportion_Dialog=!0},change_confirm:function(){var t=this,o=this,e={};e.distributionProportionId=o.fix_proportion_Data[0].distributionProportionId,e.priceRangeBegin=1*o.fix_proportion_Data[0].priceRangeBegin,e.priceRangeEnd=1*o.fix_proportion_Data[0].priceRangeEnd,e.zlsqrqRangeBegin=1*o.fix_proportion_Data[0].zlsqrqRangeBegin,e.zlsqrqRangeEnd=1*o.fix_proportion_Data[0].zlsqrqRangeEnd,e.recipientProportion=1*o.fix_proportion_Data[0].recipientProportion,e.schoolProportion=1*o.fix_proportion_Data[0].schoolProportion,e.agencyProportion=1*o.fix_proportion_Data[0].agencyProportion,e.departmentProportion=1*o.fix_proportion_Data[0].departmentProportion,console.log(e),o.request("/distribution/updateDistributionProportion",e,"POST",{}).then((function(e){console.log(e.data),"success"==e.data.status?(t.$notify.success({title:"成功",message:"修改成功！"}),o.fix_proportion_Dialog=!1,o.refresh()):t.$notify.error({title:"错误",message:e.data.data.errMsg})})).catch((function(o){console.log(o),t.$notify.error({title:"错误",message:"出错了！"})}))}}}),l=i,s=(e("6591"),e("2877")),p=Object(s["a"])(l,r,n,!1,null,null,null);o["default"]=p.exports},b680:function(t,o,e){"use strict";var r=e("23e7"),n=e("a691"),a=e("408a"),i=e("1148"),l=e("d039"),s=1..toFixed,p=Math.floor,c=function(t,o,e){return 0===o?e:o%2===1?c(t,o-1,e*t):c(t*t,o/2,e)},u=function(t){var o=0,e=t;while(e>=4096)o+=12,e/=4096;while(e>=2)o+=1,e/=2;return o},d=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!l((function(){s.call({})}));r({target:"Number",proto:!0,forced:d},{toFixed:function(t){var o,e,r,l,s=a(this),d=n(t),g=[0,0,0,0,0,0],f="",b="0",_=function(t,o){var e=-1,r=o;while(++e<6)r+=t*g[e],g[e]=r%1e7,r=p(r/1e7)},m=function(t){var o=6,e=0;while(--o>=0)e+=g[o],g[o]=p(e/t),e=e%t*1e7},h=function(){var t=6,o="";while(--t>=0)if(""!==o||0===t||0!==g[t]){var e=String(g[t]);o=""===o?e:o+i.call("0",7-e.length)+e}return o};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(f="-",s=-s),s>1e-21)if(o=u(s*c(2,69,1))-69,e=o<0?s*c(2,-o,1):s/c(2,o,1),e*=4503599627370496,o=52-o,o>0){_(0,e),r=d;while(r>=7)_(1e7,0),r-=7;_(c(10,r,1),0),r=o-1;while(r>=23)m(1<<23),r-=23;m(1<<r),_(1,1),m(2),b=h()}else _(0,e),_(1<<-o,0),b=h()+i.call("0",d);return d>0?(l=b.length,b=f+(l<=d?"0."+i.call("0",d-l)+b:b.slice(0,l-d)+"."+b.slice(l-d))):b=f+b,b}})}}]);