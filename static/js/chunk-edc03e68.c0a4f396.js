(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-edc03e68"],{1148:function(e,t,r){"use strict";var a=r("a691"),n=r("1d80");e.exports="".repeat||function(e){var t=String(n(this)),r="",s=a(e);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(r+=t);return r}},"14c3":function(e,t,r){var a=r("c6b6"),n=r("9263");e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var s=r.call(e,t);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==a(e))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},"1cb3":function(e,t,r){"use strict";r("76a5")},"38cf":function(e,t,r){var a=r("23e7"),n=r("1148");a({target:"String",proto:!0},{repeat:n})},5319:function(e,t,r){"use strict";var a=r("d784"),n=r("825a"),s=r("7b0b"),i=r("50c4"),o=r("a691"),u=r("1d80"),l=r("8aa5"),c=r("14c3"),d=Math.max,f=Math.min,v=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,p=/\$([$&'`]|\d\d?)/g,_=function(e){return void 0===e?e:String(e)};a("replace",2,(function(e,t,r,a){var g=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=a.REPLACE_KEEPS_$0,C=g?"$":"$0";return[function(r,a){var n=u(this),s=void 0==r?void 0:r[e];return void 0!==s?s.call(r,n,a):t.call(String(n),r,a)},function(e,a){if(!g&&m||"string"===typeof a&&-1===a.indexOf(C)){var s=r(t,e,this,a);if(s.done)return s.value}var u=n(e),v=String(this),h="function"===typeof a;h||(a=String(a));var p=u.global;if(p){var x=u.unicode;u.lastIndex=0}var I=[];while(1){var E=c(u,v);if(null===E)break;if(I.push(E),!p)break;var $=String(E[0]);""===$&&(u.lastIndex=l(v,i(u.lastIndex),x))}for(var P="",R=0,F=0;F<I.length;F++){E=I[F];for(var k=String(E[0]),w=d(f(o(E.index),v.length),0),y=[],S=1;S<E.length;S++)y.push(_(E[S]));var A=E.groups;if(h){var M=[k].concat(y,w,v);void 0!==A&&M.push(A);var T=String(a.apply(void 0,M))}else T=b(k,v,w,y,A,a);w>=R&&(P+=v.slice(R,w)+T,R=w+k.length)}return P+v.slice(R)}];function b(e,r,a,n,i,o){var u=a+e.length,l=n.length,c=p;return void 0!==i&&(i=s(i),c=h),t.call(o,c,(function(t,s){var o;switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,a);case"'":return r.slice(u);case"<":o=i[s.slice(1,-1)];break;default:var c=+s;if(0===c)return t;if(c>l){var d=v(c/10);return 0===d?t:d<=l?void 0===n[d-1]?s.charAt(1):n[d-1]+s.charAt(1):t}o=n[c-1]}return void 0===o?"":o}))}}))},"76a5":function(e,t,r){},"8aa5":function(e,t,r){"use strict";var a=r("6547").charAt;e.exports=function(e,t,r){return t+(r?a(e,t).length:1)}},9263:function(e,t,r){"use strict";var a=r("ad6d"),n=r("9f7f"),s=RegExp.prototype.exec,i=String.prototype.replace,o=s,u=function(){var e=/a/,t=/b*/g;return s.call(e,"a"),s.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=n.UNSUPPORTED_Y||n.BROKEN_CARET,c=void 0!==/()??/.exec("")[1],d=u||c||l;d&&(o=function(e){var t,r,n,o,d=this,f=l&&d.sticky,v=a.call(d),h=d.source,p=0,_=e;return f&&(v=v.replace("y",""),-1===v.indexOf("g")&&(v+="g"),_=String(e).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==e[d.lastIndex-1])&&(h="(?: "+h+")",_=" "+_,p++),r=new RegExp("^(?:"+h+")",v)),c&&(r=new RegExp("^"+h+"$(?!\\s)",v)),u&&(t=d.lastIndex),n=s.call(f?r:d,_),f?n?(n.input=n.input.slice(p),n[0]=n[0].slice(p),n.index=d.lastIndex,d.lastIndex+=n[0].length):d.lastIndex=0:u&&n&&(d.lastIndex=d.global?n.index+n[0].length:t),c&&n&&n.length>1&&i.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n}),e.exports=o},"9f7f":function(e,t,r){"use strict";var a=r("d039");function n(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=a((function(){var e=n("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=a((function(){var e=n("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,r){"use strict";var a=r("23e7"),n=r("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(e,t,r){"use strict";var a=r("825a");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},bc80:function(e,t,r){e.exports=r.p+"static/img/ava.edde3cb7.jpg"},d784:function(e,t,r){"use strict";r("ac1f");var a=r("6eeb"),n=r("d039"),s=r("b622"),i=r("9263"),o=r("9112"),u=s("species"),l=!n((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),c=function(){return"$0"==="a".replace(/./,"$0")}(),d=s("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),v=!n((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,d){var h=s(e),p=!n((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),_=p&&!n((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[u]=function(){return r},r.flags="",r[h]=/./[h]),r.exec=function(){return t=!0,null},r[h](""),!t}));if(!p||!_||"replace"===e&&(!l||!c||f)||"split"===e&&!v){var g=/./[h],m=r(h,""[e],(function(e,t,r,a,n){return t.exec===i?p&&!n?{done:!0,value:g.call(t,r,a)}:{done:!0,value:e.call(r,t,a)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),C=m[0],b=m[1];a(String.prototype,e,C),a(RegExp.prototype,h,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}d&&o(RegExp.prototype[h],"sham",!0)}},e382:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"UserInfo"},[r("div",{staticClass:"Left"},[r("div",{staticClass:"MainInfo"},[e._m(0),r("div",{staticClass:"username"},[e._v(e._s(e.userinfo.username))]),r("div",{staticClass:"authorize"},[e._v(e._s(e.userinfo.authorize))])])]),r("div",{staticClass:"Right"},[r("div",{staticClass:"right_box"},[r("div",{staticClass:"title"},[r("div",{staticClass:"top"},[e._v(" 用户信息 "),r("t-button",{attrs:{variant:"outline",theme:"warning"},on:{click:function(t){e.editInfoVisible=!0}}},[r("t-icon",{attrs:{name:"edit"}}),e._v(" 修改信息 ")],1)],1),r("div",{staticClass:"below"},[e._v(" 你的个人信息，其中包括可以联系到您的电话号码和电子邮件地址 ")])]),r("div",{staticClass:"InfoDetail"},[r("div",{staticClass:"Part_1"},[r("div",{staticClass:"part1_1"},[r("div",{staticClass:"Info_Menu"},[e._v("姓名")]),r("div",{staticClass:"Info_Answer"},[r("span",[e._v(e._s(e.userinfo.username))])])]),r("div",{staticClass:"part1_1 part1_2"},[r("div",{staticClass:"Info_Menu"},[e._v("工号 / 学号")]),r("div",{staticClass:"Info_Answer"},[r("span",[e._v(e._s(e.userinfo.number))])])])]),r("div",{staticClass:"Part_1"},[r("div",{staticClass:"part1_1"},[r("div",{staticClass:"Info_Menu"},[e._v("联系方式")]),r("div",{staticClass:"Info_Answer"},[r("span",[e._v(e._s(e.userinfo.userPhone))])])]),r("div",{staticClass:"part1_1 part1_2"},[r("div",{staticClass:"Info_Menu"},[e._v("身份证号")]),r("div",{staticClass:"Info_Answer"},[r("span",[e._v(e._s(e.userinfo.userIdCard))])])])]),r("div",{staticClass:"Part_1"},[r("div",{staticClass:"part1_1"},[r("div",{staticClass:"Info_Menu"},[e._v("电子邮箱")]),r("div",{staticClass:"Info_Answer"},[r("span",[e._v(e._s(e.userinfo.userEmail))])])]),["root","superadmin","admin"].includes(e.userinfo.authorize)?r("div",{staticClass:"part1_1 part1_2 Manage",on:{click:e.change_distribution}},[r("div",{staticClass:"Info_Menu"},[e._v("调整收益分配比例")])]):e._e()])])]),["root","superadmin"].includes(e.userinfo.authorize)?r("div",{staticClass:"right_box super_admin"},[e._m(1),r("div",{staticClass:"InfoDetail"},[r("div",{staticClass:"Part_1"},[r("div",{staticClass:"part1_1 Manage",on:{click:e.manager}},[r("div",{staticClass:"Info_Menu"},[e._v("人员管理")])]),r("div",{staticClass:"part1_1 part1_2 Manage",on:{click:e.opreate_history}},[r("div",{staticClass:"Info_Menu"},[e._v("操作记录")])])])])]):e._e()]),r("el-dialog",{staticClass:"Price_Dialog",attrs:{title:"修改信息",visible:e.editInfoVisible,width:"30%"},on:{"update:visible":function(t){e.editInfoVisible=t}}},[r("el-form",{ref:"info_ruleForm",attrs:{model:e.info_ruleForm,rules:e.info_rules}},[r("el-form-item",{attrs:{label:"联系方式",prop:"userPhone"}},[r("el-input",{model:{value:e.info_ruleForm.userPhone,callback:function(t){e.$set(e.info_ruleForm,"userPhone",t)},expression:"info_ruleForm.userPhone"}})],1),r("el-form-item",{attrs:{label:"身份证号",prop:"userIdCard"}},[r("el-input",{model:{value:e.info_ruleForm.userIdCard,callback:function(t){e.$set(e.info_ruleForm,"userIdCard",t)},expression:"info_ruleForm.userIdCard"}})],1),r("el-form-item",{attrs:{label:"电子邮箱",prop:"userEmail"}},[r("el-input",{model:{value:e.info_ruleForm.userEmail,callback:function(t){e.$set(e.info_ruleForm,"userEmail",t)},expression:"info_ruleForm.userEmail"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("t-button",{staticStyle:{"margin-right":"10px"},attrs:{theme:"default",size:"large"},on:{click:function(t){e.editInfoVisible=!1}}},[e._v("取 消")]),r("t-button",{attrs:{theme:"primary",size:"large"},on:{click:function(t){return e.ConfirmChange("info_ruleForm")}}},[e._v(" 确 认 ")])],1)],1)],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Ava"},[a("img",{attrs:{src:r("bc80"),alt:""}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"title"},[r("div",{staticClass:"top"},[e._v("管理")]),r("div",{staticClass:"below"},[e._v("你可以查看你的员工信息以及员工的操作记录")])])}],s=r("1da1"),i=(r("96cf"),r("ac1f"),r("5319"),r("fb6a"),r("38cf"),r("2f62"),r("61f7")),o={created:function(){this.refresh()},data:function(){return{userinfo:{username:this.$store.state.signed_username,authorize:"",number:this.$store.state.signed_id,userPhone:"",userIdCard:"",userEmail:""},editInfoVisible:!1,info_ruleForm:{userIdCard:"",userPhone:"",userEmail:""},info_rules:{userPhone:[{required:!0,validator:i["d"],trigger:"blur"}],userIdCard:[{required:!0,validator:i["c"],trigger:"blur"}],userEmail:[{required:!0,validator:i["b"],trigger:"blur"}]}}},methods:{refresh:function(){var e=this;switch(console.log(this.$store.state.signed_authorize),this.$store.state.signed_authorize){case"teacher":this.userinfo.authorize="教师";break;case"superadmin":this.userinfo.authorize="产学研超级管理员";break;case"admin":this.userinfo.authorize="产学研";break;case"finance":this.userinfo.authorize="财务处";break;case"root":this.userinfo.authorize="Root";break}this.request("/user/getUserContactInfo",{},"GET",{}).then((function(t){console.log(t.data),"success"==t.data.status?(e.userinfo.userPhone=t.data.data.userPhone,e.userinfo.userIdCard=t.data.data.userIdCard.replace(t.data.data.userIdCard.slice(4,14),"*".repeat(10)),e.userinfo.userEmail=t.data.data.userEmail,e.info_ruleForm.userPhone=t.data.data.userPhone,e.info_ruleForm.userIdCard=t.data.data.userIdCard,e.info_ruleForm.userEmail=t.data.data.userEmail):e.$message.error(t.data.data.errMsg)})).catch((function(t){console.log(t),e.loading=!1,e.$message.error("出错了！")}))},change_distribution:function(){this.$router.push({path:"/change_distribution"})},manager:function(){this.$router.push({path:"/userlist"})},opreate_history:function(){this.$router.push({path:"/opreate_log"})},ConfirmChange:function(e){var t=this;this.$refs[e].validate((function(e){e&&t.ConfirmInfo()}))},ConfirmInfo:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=!1,""==e.info_ruleForm.userPhone||null==e.info_ruleForm.userPhone){t.next=7;break}return a={},a.type=1,a.value=e.info_ruleForm.userPhone,t.next=7,e.request("/user/updateUserInfo",a,"POST",{}).then((function(t){console.log(t.data),"success"==t.data.status?r=!0:e.$message.error(t.data.data.errMsg)})).catch((function(t){console.log(t),e.loading=!1,e.$message.error("出错了！")}));case 7:if(""==e.info_ruleForm.userEmail||null==e.info_ruleForm.userEmail){t.next=13;break}return n={},n.type=2,n.value=e.info_ruleForm.userEmail,t.next=13,e.request("/user/updateUserInfo",n,"POST",{}).then((function(t){console.log(t.data),"success"==t.data.status?r=!0:e.$message.error(t.data.data.errMsg)})).catch((function(t){console.log(t),e.loading=!1,e.$message.error("出错了！")}));case 13:if(""==e.info_ruleForm.userIdCard||null==e.info_ruleForm.userIdCard){t.next=19;break}return s={},s.type=3,s.value=e.info_ruleForm.userIdCard,t.next=19,e.request("/user/updateUserInfo",s,"POST",{}).then((function(t){console.log(t.data),"success"==t.data.status?r=!0:e.$message.error(t.data.data.errMsg)})).catch((function(t){console.log(t),e.loading=!1,e.$message.error("出错了！")}));case 19:r&&e.$message.success("修改成功！"),e.refresh(),e.editInfoVisible=!1;case 22:case"end":return t.stop()}}),t)})))()}}},u=o,l=(r("1cb3"),r("2877")),c=Object(l["a"])(u,a,n,!1,null,null,null);t["default"]=c.exports}}]);