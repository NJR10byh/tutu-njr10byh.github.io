(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a8f8c504"],{"1bc1":function(e,t,s){},2017:function(e,t,s){"use strict";s("cafe")},"81b7":function(e,t,s){"use strict";s("1bc1")},"9ed6":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-container"},[s("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[s("div",{staticClass:"title-container"},[s("h1",{staticClass:"title"},[e._v("专利转让系统")])]),s("el-form-item",{attrs:{prop:"userName"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{attrs:{"icon-class":"user"}})],1),s("el-input",{ref:"userName",staticClass:"Sign_input",attrs:{placeholder:"用户名",name:"userName",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.loginForm.userName,callback:function(t){e.$set(e.loginForm,"userName",t)},expression:"loginForm.userName"}})],1),s("el-form-item",{attrs:{prop:"passWord"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{attrs:{"icon-class":"password"}})],1),s("el-input",{key:e.passwordType,ref:"password",staticClass:"Sign_input",attrs:{type:e.passwordType,placeholder:"密码",name:"password",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.passWord,callback:function(t){e.$set(e.loginForm,"passWord",t)},expression:"loginForm.passWord"}}),s("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[s("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),s("div",{staticClass:"login_register"},[s("el-button",{staticClass:"loginbutton",attrs:{loading:e.loading},on:{click:e.handleLogin}},[e._v(" 登录 ")]),s("el-button",{staticClass:"register",on:{click:e.RegisterDialog}},[e._v(" 注册 ")])],1)],1),s("el-dialog",{staticClass:"RegisterDialog",attrs:{title:"用户注册",visible:e.RegisterDialog,width:"35%"},on:{"update:visible":function(t){e.RegisterDialog=t}}},[s("div",[s("span",[e._v("用户名：")]),s("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.willput.username,callback:function(t){e.$set(e.willput,"username",t)},expression:"willput.username"}})],1),s("div",[s("span",[e._v("姓名：")]),s("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.willput.name,callback:function(t){e.$set(e.willput,"name",t)},expression:"willput.name"}})],1),s("div",[s("span",[e._v("工号 / 学号：")]),s("el-input",{attrs:{placeholder:"请输入工号 / 学号"},model:{value:e.willput.number,callback:function(t){e.$set(e.willput,"number",t)},expression:"willput.number"}})],1),s("div",[s("span",[e._v("联系方式：")]),s("el-input",{attrs:{placeholder:"请输入联系方式"},model:{value:e.willput.tel,callback:function(t){e.$set(e.willput,"tel",t)},expression:"willput.tel"}})],1),s("div",[s("span",[e._v("电子邮件：")]),s("el-input",{attrs:{placeholder:"请输入电子邮件"},model:{value:e.willput.email,callback:function(t){e.$set(e.willput,"email",t)},expression:"willput.email"}})],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.RegisterDialog=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.RegisterConfirm()}}},[e._v("注 册")])],1)])],1)},n=[],r=s("1da1"),i=(s("b0c0"),s("96cf"),{name:"Login",data:function(){var e=function(e,t,s){""==t?s(new Error("请填写用户名！")):s()},t=function(e,t,s){0==t.length?s(new Error("请填写密码！")):s()};return{loginForm:{userName:"",passWord:""},loginRules:{userName:[{required:!0,trigger:"blur",validator:e}],passWord:[{required:!0,trigger:"blur",validator:t}]},loading:!1,passwordType:"password",redirect:void 0,RegisterDialog:!1,willput:{id:"",username:"",authorize:"",name:"",number:"",tel:"",email:"",deadline:""}}},methods:{showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""==e.loginForm.userName||""==e.loginForm.passWord){t.next=7;break}return s=e,a="Sign?username="+e.loginForm.userName,t.next=5,s.request(a,"","GET",{}).then((function(t){if(""==t.data)e.$message({message:"当前用户尚未注册！",type:"warning"});else if(t.data[0].number==e.loginForm.passWord){var a={id:t.data[0].id};s.request("Signed",a,"POST"),e.$message({message:"登录成功，Welcome！",type:"success"}),e.$router.push({path:"/Home"})}else t.data[0].number!=e.loginForm.passWord&&e.$message({message:"用户名或密码错误！",type:"error"})})).catch((function(t){e.$message({message:t.data.errMessage,type:"error"})}));case 5:t.next=8;break;case 7:e.$message({message:"请填写用户名或密码",type:"warning"});case 8:case"end":return t.stop()}}),t)})))()},RegisterConfirm:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e,t.next=3,s.request("Registe",s.willput,"POST");case 3:e.$message({message:"注册成功！请等候管理员审核",type:"success"}),s.RegisterDialog=!1,s.willput.username="",s.willput.authorize="",s.willput.name="",s.willput.number="",s.willput.tel="",s.willput.email="";case 11:case"end":return t.stop()}}),t)})))()}}}),l=i,o=(s("2017"),s("81b7"),s("2877")),u=Object(o["a"])(l,a,n,!1,null,"3260276c",null);t["default"]=u.exports},cafe:function(e,t,s){}}]);