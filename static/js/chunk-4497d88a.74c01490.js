(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4497d88a"],{"148b":function(e,a,t){},db99:function(e,a,t){"use strict";t.r(a);var r,s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"examing_mobile_Container"},[t("div",{staticClass:"Search"},[t("div",{staticClass:"Search_field"},[t("van-field",{attrs:{center:"",clearable:"",label:"专利名称",placeholder:"请输入要查询的专利名称"},scopedSlots:e._u([{key:"button",fn:function(){return[t("van-button",{attrs:{size:"small",type:"info"},on:{click:e.search}},[e._v("搜 索")])]},proxy:!0}]),model:{value:e.SearchText,callback:function(a){e.SearchText=a},expression:"SearchText"}})],1)]),t("div",{staticClass:"Patents"},e._l(e.patents,(function(a){return t("van-cell",{key:a.index,attrs:{title:a.zlmc,"is-link":""},on:{click:function(t){return e.GetDetail(a)}}})})),1),t("div",{staticClass:"Page"},[t("van-pagination",{attrs:{"total-items":e.total,"items-per-page":10,"force-ellipses":""},on:{change:e.handleCurrentPage},model:{value:e.currentPage,callback:function(a){e.currentPage=a},expression:"currentPage"}})],1)])},n=[],c=t("1da1"),o=t("ade3"),d=(t("be7f"),t("565f")),i=(t("9a83"),t("f564")),l=(t("6a39"),t("f240")),u=(t("c194"),t("7744")),p=(t("66b9"),t("b650")),g=(t("96cf"),t("b0c0"),t("ac1f"),t("1276"),{components:(r={},Object(o["a"])(r,p["a"].name,p["a"]),Object(o["a"])(r,u["a"].name,u["a"]),Object(o["a"])(r,l["a"].name,l["a"]),Object(o["a"])(r,i["a"].name,i["a"]),Object(o["a"])(r,d["a"].name,d["a"]),r),data:function(){return{name:this.$store.state.signed_username,id:this.$store.state.signed_id,patents:[],total:0,currentPage:1,Page_url:"",SearchType:"查询字段",SearchText:""}},created:function(){this.refresh()},methods:{refresh:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var t,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t=e,t.patents=[],t.currentPage=1,t.SearchType="查询字段",t.SearchText="",console.log(e.$store.state),r="/process/getTransferApplicationFromPage?currPage="+t.currentPage+"&size=10",t.Page_url=r,a.next=10,t.getExam(r);case 10:case"end":return a.stop()}}),a)})))()},getExam:function(e){var a=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=a,t.next=3,r.request(e,{},"GET",{}).then((function(e){if(console.log(e.data),"success"==e.data.status){r.total=e.data.data.total;for(var a=0;a<e.data.data.records.length;a++){var t={};t.index=a+1,t.wid=e.data.data.records[a].wid,t.sqbh=e.data.data.records[a].sqbh,t.zlmc=e.data.data.records[a].zlmc,t.zlh=e.data.data.records[a].zlh,t.zlqr=e.data.data.records[a].zlqr,t.gsdw=e.data.data.records[a].gsdw,t.zhgxsj=null==e.data.data.records[a].transferProcess?e.data.data.records[a].zhgxsj:e.data.data.records[a].transferProcess.gmtUpdate,t.pzrq=e.data.data.records[a].pzrq,t.zldlr=e.data.data.records[a].zldlr,t.zldyzzgh=e.data.data.records[a].zldyzzgh,t.zldyzzxm=e.data.data.records[a].zldyzzxm,t.zlh=e.data.data.records[a].zlh,t.zlmc=e.data.data.records[a].zlmc,null==e.data.data.records[a].transferProcess?t.gmtUpdate=null:t.gmtUpdate=e.data.data.records[a].transferProcess.gmtUpdate,null==e.data.data.records[a].transferProcess?t.state="未转换":(t.transferProcessId=e.data.data.records[a].transferProcess.transferProcessId,e.data.data.records[a].transferProcess.isWithdraw?t.state="审批表已撤回":e.data.data.records[a].transferProcess.isZldyzzConfirm?e.data.data.records[a].transferProcess.isZldyzzApproval?e.data.data.records[a].transferProcess.isDepartmentConfirm?e.data.data.records[a].transferProcess.isDepartmentApproval?e.data.data.records[a].transferProcess.isComplete?(t.state="已转换",t.projectCode=e.data.data.records[a].transferProcess.projectCode):e.data.data.records[a].transferProcess.isCxyConfirm?e.data.data.records[a].transferProcess.isCxyApproval?(t.projectCode=e.data.data.records[a].transferProcess.projectCode,e.data.data.records[a].transferProcess.isPublicNotice?r.TimeDiffer(e.data.data.records[a].transferProcess.publicNoticeTime)?null==e.data.data.records[a].transferProcess.contractId?t.state="正在转换：等待上传合同":e.data.data.records[a].transferProcess.isContractSendBack&&null!=e.data.data.records[a].transferProcess.voucherId?null==e.data.data.records[a].transferProcess.checklistId?t.state="正在转换：等待上传认定清单（备案）":null==e.data.data.records[a].transferProcess.invoiceId?t.state="正在转换：等待上传发票":e.data.data.records[a].transferProcess.isComplete||(t.state="等待流程结束"):t.state="正在转换：等待合同寄回和上传到款凭证":t.state="正在转换：正在公示中":t.state="正在转换：等待公示"):t.state="产学研未通过":t.state="正在转换：等待产学研审批":t.state="归属单位未通过":t.state="正在转换：等待归属单位审批":t.state="第一作者未通过":t.state="正在转换：等待第一作者确认"),r.patents.push(t)}Object(i["a"])({type:"success",message:"数据已更新！"})}else Object(i["a"])({type:"danger",message:e.data.data.errMsg})})).catch((function(e){console.log(e),Object(i["a"])({type:"danger",message:"出错了！"})}));case 3:case"end":return t.stop()}}),t)})))()},handleCurrentPage:function(e){var a=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=a,console.log(r.Page_url),s=r.Page_url.split("currPage")[0]+"currPage="+e+"&size"+r.Page_url.split("size")[1],console.log(s),r.patents=[],r.currentPage=e,t.next=8,r.getExam(s);case 8:case"end":return t.stop()}}),t)})))()},TimeTransfer:function(e){var a=new Date(e),t=a.getFullYear(),r=a.getMonth()+1,s=a.getDate(),n=a.getHours(),c=a.getMinutes(),o=a.getSeconds(),d=t+"-";return r<10&&(d+="0"),d+=r+"-",s<10&&(d+="0"),d+=s+" ",n<10&&(d+="0"),d+=n+":",c<10&&(d+="0"),d+=c+":",o<10&&(d+="0"),d+=o,d},TimeDiffer:function(e){var a=this.TimeTransfer(e),t=new Date,r=new Date(a),s=(t-r)/1e3,n=parseInt(s/86400);parseInt(s/3600),parseInt(s%3600/60),parseInt(s%60);return n>15},handleDropdown:function(e){var a=this;a.SearchType=e},search:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var t,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t=e,r="",t.patents=[],t.currentPage=1,r="/process/getTransferApplicationFromPageByZLMC?currPage="+t.currentPage+"&size=10&zlmc="+t.SearchText,t.Page_url=r,console.log(r),t.getExam(r);case 8:case"end":return a.stop()}}),a)})))()},GetDetail:function(e){console.log(e),this.$router.push({path:"/examing_detail",query:e})},Pass:function(e){var a=this;this.$prompt("备注","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(t){var r={};r.operatorName=a.$store.state.signed_username,r.operatorGh=a.$store.state.signed_id,r.operatorDepartment=a.$store.state.signed_department,r.remarks=t.value,r.transferProcessId=e.transferProcessId,console.log(r),a.request("/process/approvalTransferApplication",r,"POST",{}).then((function(e){console.log(e.data),"success"==e.data.status?(Object(i["a"])({type:"success",message:"已通过！"}),a.refresh()):Object(i["a"])({type:"danger",message:e.data.data.errMsg})})).catch((function(e){console.log(e),Object(i["a"])({type:"danger",message:"出错了！"})}))})).catch((function(){Object(i["a"])({type:"warning",message:"已取消操作！"})}))},Failed:function(e){var a=this;this.$prompt("请填写拒绝原因","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(t){if(console.log(t.value),null==t.value||""==t.value)Object(i["a"])({type:"warning",message:"拒绝原因不能为空！"});else{var r={};r.operatorName=a.$store.state.signed_username,r.operatorGh=a.$store.state.signed_id,r.operatorDepartment=a.$store.state.signed_department,r.remarks=t.value,r.transferProcessId=e.transferProcessId,console.log(r),a.request("/process/notApprovalTransferApplication",r,"POST",{}).then((function(e){console.log(e.data),"success"==e.data.status?(Object(i["a"])({type:"success",message:"已拒绝！"}),a.refresh()):Object(i["a"])({type:"danger",message:e.data.data.errMsg})})).catch((function(e){console.log(e),Object(i["a"])({type:"danger",message:"出错了！"})}))}})).catch((function(e){console.log(e),Object(i["a"])({type:"warning",message:"已取消操作！"})}))}}}),f=g,m=(t("fbcd"),t("2877")),h=Object(m["a"])(f,s,n,!1,null,null,null);a["default"]=h.exports},fbcd:function(e,a,t){"use strict";t("148b")}}]);