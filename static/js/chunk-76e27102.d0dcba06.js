(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76e27102"],{af2c:function(e,t,i){"use strict";i("ac1f"),i("1276"),i("caad"),i("d3b7"),i("3ca3"),i("ddb0"),i("2b3d");var a=i("4ec3"),o=i("5c96"),n=i.n(o),s=function(e){var t="/file/downloadFileById?fileId="+e;Object(a["a"])(t,{},"GET",{},"arraybuffer").then((function(e){if(console.log(e),void 0==e.headers["content-disposition"])n.a.Notification({title:"错误",message:"文件可能丢失了！",type:"error"});else{var t="",i=e.headers["content-disposition"].split("fileName=")[1].split(".").length,a=e.headers["content-disposition"].split("fileName=")[1].split(".")[i-1];if(["pdf","png","jpg","jpeg"].includes(a)){switch(a){case"pdf":t="application/pdf";break;case"png":t="image/png";break;case"jpg":t="image/jpeg";break;case"jpeg":t="image/jpeg";break}var o=e.data,s=decodeURI(e.headers["content-disposition"].split("fileName=")[1]);if(window.navigator&&window.navigator.msSaveOrOpenBlob){var l=new Blob([o],{type:t});console.log(s),window.navigator.msSaveOrOpenBlob(l,s)}else{var c=new Blob([o],{type:t}),d=window.URL.createObjectURL(c);console.log(d),window.open(d)}}else n.a.Notification({title:"提示",message:"该文件类型暂不支持在线预览，请下载后查看！",type:"warning"})}})).catch((function(e){console.log(e),n.a.Message({message:"出错了！",type:"error"})}))},l=function(e){Object(a["a"])(e,{},"GET",{},"blob").then((function(t){if(console.log(t),void 0!=t.headers["content-disposition"]){n.a.Notification({title:"成功",message:"准备开始下载！",type:"success"});var i=decodeURI(t.headers["content-disposition"].split("fileName=")[1]);try{var o=new Blob([t.data],{type:"application/force-download"}),s=URL.createObjectURL(o),l=document.createElement("a");l.href=s,l.setAttribute("download",i),document.body.appendChild(l),l.click(),document.body.removeChild(l)}catch(c){console.log(c),n.a.Message({message:"数据请求失败！",type:"error"})}}else Object(a["a"])(e,{},"GET",{}).then((function(e){n.a.Message({message:e.data.data.errMsg,type:"error"})}))})).catch((function(e){console.log(e),n.a.Message({message:"出错了！",type:"error"})}))},c=function(e,t){var i="";if(0==t.length)n.a.Notification.warning({title:"提示",message:"文件为空！"});else{if(1==t.length)i="/file/downloadPackage?projectCode="+e+"&fileIdList="+t[0];else if(t.length>1){i="/file/downloadPackage?projectCode="+e+"&fileIdList="+t[0];for(var o=1;o<t.length;o++)i=i+"&fileIdList="+t[o]}Object(a["a"])(i,{},"GET",{},"blob").then((function(e){if(void 0!=e.headers["content-disposition"]){n.a.Notification({title:"成功",message:"准备开始下载！",type:"success"});var t=decodeURI(e.headers["content-disposition"].split("fileName=")[1]);try{var i=new Blob([e.data],{type:"application/force-download"}),a=URL.createObjectURL(i),o=document.createElement("a");o.href=a,o.setAttribute("download",t),document.body.appendChild(o),o.click(),document.body.removeChild(o)}catch(s){console.log(s),n.a.Message({message:"数据请求失败！",type:"error"})}}else n.a.Message({message:"文件可能丢失了！",type:"error"})})).catch((function(e){console.log(e),n.a.Message({message:"出错了！",type:"error"})}))}};t["a"]={previewFile:s,downloadFiles:l,downloadFilePackage:c}},c613:function(e,t,i){e.exports={menuText:"#bfcbd9",menuActiveText:"#409eff",menuBg:"#304156",sideBarWidth:"200px"}},c6d2:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[["root","teacher","superadmin","admin","academy"].includes(this.$store.state.signed_authorize)?i("div",{staticClass:"notice_pc_Container"},[["teacher","root","academy"].includes(this.$store.state.signed_authorize)?i("div",{staticClass:"notice_teacher"},[e._m(0),i("div",{staticClass:"Videos"},e._l(e.video_play_List,(function(t){return i("div",{key:t.fileId,staticClass:"card"},[i("div",{staticClass:"muivideo"},[i("mui-video",{attrs:{container:"id"+t.fileId,src:t.src,title:t.title}})],1),i("div",{staticClass:"video_info"},[i("div",{staticClass:"video_title"},[e._v(" "+e._s(t.title)+" ")]),i("div",{staticClass:"video_watchNum"},[i("t-icon",{staticStyle:{"margin-right":"3px"},attrs:{name:"time"}}),i("span",[e._v(e._s(t.gmtCreate))])],1)])])})),0),i("div",{staticClass:"Notices"},[0==e.noticetotal?i("el-empty",{attrs:{description:"暂无通知"}}):i("div",{staticClass:"notice_content_teacher"},e._l(e.notices,(function(t){return i("div",{key:t.noticeId,staticClass:"notice_title_time"},[i("div",{staticClass:"notice_title",on:{click:function(i){return e.getNotice_detail(t)}}},[e._v(e._s(t.noticeTitle))]),i("div",{staticClass:"notice_time"},[e._v(e._s(t.updateTime))])])})),0)],1),i("div",{staticClass:"Page"},[i("el-pagination",{attrs:{"current-page":e.current_page,"page-size":10,layout:"total, prev, pager, next",total:e.noticetotal},on:{"current-change":e.handleCurrentChange}})],1)]):e._e(),["root","superadmin","admin"].includes(this.$store.state.signed_authorize)?i("div",{staticClass:"notice_company"},[i("div",{staticClass:"notices_head"},[i("div",{staticClass:"text"},[e._v("视频管理")]),i("div",{staticClass:"buttons"},[i("t-button",{attrs:{variant:"outline",theme:"primary"},on:{click:function(t){e.addVideo_dialog=!0}}},[i("t-icon",{attrs:{name:"add"}}),e._v(" 发布视频 ")],1)],1)]),i("div",{staticClass:"notices_table"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.video_loading,expression:"video_loading"}],ref:"multipleTable",staticClass:"tablestyle",staticStyle:{width:"100%"},attrs:{data:e.videoList,"tooltip-effect":"dark",border:"",stripe:""}},[i("el-table-column",{attrs:{prop:"index",label:"序号",width:"70"}}),i("el-table-column",{attrs:{prop:"title",label:"视频名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticStyle:{color:"#409EFF"},attrs:{href:"http://cgzh.njupt.edu.cn/video/"+t.row.filename,target:"_blank"}},[e._v(e._s(t.row.title))])]}}],null,!1,339161058)}),i("el-table-column",{attrs:{prop:"gmtCreate",label:"更新时间"}}),i("el-table-column",{attrs:{prop:"setting",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{staticClass:"setting"},[i("el-button",{attrs:{icon:"el-icon-delete"},on:{click:function(i){return e.DeleteVideo(t.row)}}},[e._v(" 删除 ")])],1)]}}],null,!1,3380531593)})],1)],1),i("div",{staticClass:"notices_head"},[i("div",{staticClass:"text"},[e._v("通知管理")]),i("div",{staticClass:"buttons"},[i("t-button",{attrs:{variant:"outline",theme:"primary"},on:{click:function(t){e.AddNoticeVisible=!0}}},[i("t-icon",{attrs:{name:"add"}}),e._v(" 新增通知 ")],1)],1)]),i("div",{staticClass:"notices_table"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticClass:"tablestyle",staticStyle:{width:"100%"},attrs:{data:e.notices,"tooltip-effect":"dark",border:"",stripe:""}},[i("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[i("el-form-item",[i("div",{staticClass:"content_detail"},[i("span",[e._v(e._s(t.row.content))])])])],1)]}}],null,!1,468862246)}),i("el-table-column",{attrs:{prop:"index",label:"序号",width:"70"}}),i("el-table-column",{attrs:{prop:"noticeTitle",label:"通知标题"}}),i("el-table-column",{attrs:{prop:"publishUser",label:"发布人"}}),i("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),i("el-table-column",{attrs:{prop:"updateTime",label:"最后更新时间"}}),i("el-table-column",{attrs:{prop:"setting",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{staticClass:"setting"},[i("el-button",{attrs:{icon:"el-icon-edit-outline"},on:{click:function(i){return e.FixNotice(t.row)}}},[e._v(" 修改 ")]),i("el-button",{attrs:{icon:"el-icon-delete"},on:{click:function(i){return e.DeleteNotice(t.row)}}},[e._v(" 删除 ")])],1)]}}],null,!1,451242432)})],1)],1),i("div",{staticClass:"Page"},[i("el-pagination",{attrs:{"current-page":e.current_page,"page-size":5,layout:"total, prev, pager, next",total:e.noticetotal},on:{"current-change":e.handleCurrentChange}})],1)]):e._e(),i("el-dialog",{staticClass:"AddNotice_Dialog",attrs:{title:"新增通知",visible:e.AddNoticeVisible,width:"60%","modal-append-to-body":!1},on:{"update:visible":function(t){e.AddNoticeVisible=t}}},[i("div",{staticClass:"notice_title"},[i("span",[e._v("通知标题：")]),i("el-input",{staticStyle:{"margin-top":"5px"},attrs:{placeholder:"请输入通知标题"},model:{value:e.willadd_notice.noticeTitle,callback:function(t){e.$set(e.willadd_notice,"noticeTitle",t)},expression:"willadd_notice.noticeTitle"}})],1),i("div",{staticClass:"notice_content"},[i("span",[e._v("通知内容：")]),i("el-input",{staticStyle:{"margin-top":"5px"},attrs:{placeholder:"请输入通知内容",type:"textarea",rows:4},model:{value:e.willadd_notice.content,callback:function(t){e.$set(e.willadd_notice,"content",t)},expression:"willadd_notice.content"}})],1),i("span",{attrs:{slot:"footer"},slot:"footer"},[i("div",{staticClass:"dialog_footer"},[i("div",{staticClass:"upload_document"},[i("el-upload",{ref:"upload",staticClass:"elupload",attrs:{action:"/pdf/upload","http-request":e.upload_document,limit:1,"on-exceed":e.handleExceed}},[i("t-button",{attrs:{variant:"outline",theme:"default",size:"large"}},[i("t-icon",{attrs:{name:"cloud-upload"}}),e._v(" 上传附件 ")],1)],1)],1),i("div",{staticClass:"buttons"},[i("t-button",{staticStyle:{"margin-right":"10px"},attrs:{theme:"default",size:"large"},on:{click:function(t){e.AddNoticeVisible=!1}}},[e._v("取 消")]),i("t-button",{attrs:{theme:"primary",size:"large"},on:{click:function(t){return e.AddConfirm()}}},[e._v("新 增")])],1)])])]),i("el-dialog",{staticClass:"FixNotice_Dialog",attrs:{title:"修改通知",visible:e.FixNoticeVisible,width:"60%","modal-append-to-body":!1},on:{"update:visible":function(t){e.FixNoticeVisible=t}}},[i("div",{staticClass:"notice_title"},[i("span",[e._v("通知标题：")]),i("el-input",{staticStyle:{"margin-top":"5px"},attrs:{placeholder:"请输入通知标题"},model:{value:e.willfix_notice.noticeTitle,callback:function(t){e.$set(e.willfix_notice,"noticeTitle",t)},expression:"willfix_notice.noticeTitle"}})],1),i("div",{staticClass:"notice_content"},[i("span",[e._v("通知内容：")]),i("el-input",{staticStyle:{"margin-top":"5px"},attrs:{placeholder:"请输入通知内容",type:"textarea",rows:4},model:{value:e.willfix_notice.content,callback:function(t){e.$set(e.willfix_notice,"content",t)},expression:"willfix_notice.content"}})],1),i("span",{attrs:{slot:"footer"},slot:"footer"},[i("div",{staticClass:"dialog_footer"},[i("div",{staticClass:"update_document"},[i("div",[i("el-upload",{ref:"upload",staticClass:"elupload",attrs:{action:"/pdf/upload","http-request":e.update_document,limit:1,"on-exceed":e.handleExceed}},[i("el-button",{attrs:{icon:"el-icon-upload2"}},[e._v("更新附件")])],1)],1)]),i("div",{staticClass:"buttons"},[i("el-button",{on:{click:function(t){e.AddNoticeVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{icon:"el-icon-download"},on:{click:e.download_document}},[e._v("下载附件 ")]),i("el-button",{attrs:{icon:"el-icon-delete"},on:{click:e.delete_document}},[e._v("删除附件 ")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.FixConfirm()}}},[e._v("修 改")])],1)])])]),i("el-dialog",{attrs:{title:"发布视频",visible:e.addVideo_dialog,width:"400px","modal-append-to-body":!1},on:{"update:visible":function(t){e.addVideo_dialog=t}}},[i("div",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"flex-start"}},[i("div",{staticStyle:{"font-size":"17px","font-weight":"bold"}},[e._v("视频标题")]),i("t-input",{staticStyle:{margin:"10px 0"},model:{value:e.add_video_title,callback:function(t){e.add_video_title=t},expression:"add_video_title"}}),i("el-upload",{ref:"uploadVideo",attrs:{action:"/",accept:"video/*","auto-upload":!1,"http-request":e.upload_video,limit:1,"file-list":e.fileList,"on-exceed":e.over_limit,"before-remove":e.beforeRemove,disabled:e.add_video_button_disabled}},[i("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只支持上传视频文件")])],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.add_video_button_disabled?i("t-button",{staticStyle:{"margin-right":"10px"},attrs:{theme:"success"},on:{click:function(t){e.addVideo_dialog=!1}}},[e._v(" 后台上传 ")]):i("t-button",{staticStyle:{"margin-right":"10px"},attrs:{theme:"default"},on:{click:function(t){e.addVideo_dialog=!1}}},[e._v(" 取 消 ")]),e.add_video_button_disabled?e._e():i("t-button",{attrs:{theme:"primary"},on:{click:e.submitUpload}},[e._v("上 传")])],1)])],1):i("div",[i("el-empty",{attrs:{description:"无权限"}},[i("t-button",{attrs:{theme:"primary",size:"large"},on:{click:e.RoleLow_back}},[e._v(" 返回 ")])],1)],1)])},o=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"notices_head"},[i("div",{staticClass:"text"},[e._v("通知栏")])])}],n=i("1da1"),s=(i("96cf"),i("caad"),i("af2c")),l=i("5f87"),c=i("bc3a"),d=i.n(c),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:e.container}})},u=[],p=(i("3315"),i("bf15")),f=i.n(p),g={props:{src:{type:String,default:""},title:{type:String,default:""},container:{type:String,default:""}},data:function(){return{}},mounted:function(){new f.a({container:"#"+this.container,title:this.title,src:this.src,pageHead:!1,height:"200px",autoFit:!1,themeColor:"#409EFF"})}},m=g,v=i("2877"),_=Object(v["a"])(m,r,u,!1,null,null,null),h=_.exports,b={components:{muiVideo:h},data:function(){return{videoList:[],videototal:0,video_loading:!0,add_video:{file:null,title:""},notices:[],noticetotal:0,current_page:1,loading:!0,video_play_List:[],addVideo_dialog:!1,add_video_title:"",add_video_file:null,add_video_button_disabled:!1,fileList:[],AddNoticeVisible:!1,willadd_notice:{noticeTitle:"",content:"",publishUser:"",file:null},FixNoticeVisible:!1,willfix_notice:{noticeId:"",noticeTitle:"",content:""},attachmentId:""}},mounted:function(){Object(l["a"])()},created:function(){var e=this;setTimeout((function(){console.log(e.$store.state.signed_authorize),["root","teacher","superadmin","admin","academy"].includes(e.$store.state.signed_authorize)?e.refresh():e.$message.warning("权限不足！")}),300)},computed:{player:function(){return this.$refs.videoPlayer.player}},methods:{RoleLow_back:function(){window.history.back()},refresh:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="/file/getVideoList",a="/notice/getNoticeModelPage?currPage=1&size=10",t.next=4,e.getvideo(i);case 4:e.getNotices(a);case 5:case"end":return t.stop()}}),t)})))()},getvideo:function(e){var t=this,i=this;i.video_loading=!0,i.videoList=[],i.request(e,{},"GET",{}).then((function(e){if(console.log(e.data),i.video_loading=!1,"success"==e.data.status)for(var a=0;a<e.data.data.length;a++){var o={};o.index=a+1,o.title=e.data.data[a].title,o.gmtCreate=e.data.data[a].gmtCreate,o.filename=e.data.data[a].filename,o.fileId=e.data.data[a].fileId,i.videoList.push(o);var n={};n.index=a+1,n.title=e.data.data[a].title,n.gmtCreate=e.data.data[a].gmtCreate,n.fileId=e.data.data[a].fileId,n.src="http://cgzh.njupt.edu.cn/video/"+e.data.data[a].filename,i.video_play_List.push(n)}else t.$message.error(e.data.data.errMsg)})).catch((function(e){i.video_loading=!1,console.log(e),t.$message.error("出错了！")}))},getNotices:function(e){var t=this,i=this;i.loading=!0,i.notices=[],i.request(e,{},"GET",{}).then((function(e){if(console.log(e.data),i.loading=!1,"success"==e.data.status){i.noticetotal=e.data.data.total;for(var a=0;a<e.data.data.records.length;a++){var o={};o.index=a+1,o.noticeId=e.data.data.records[a].noticeId,o.createTime=e.data.data.records[a].createTime,o.updateTime=e.data.data.records[a].updateTime,o.noticeTitle=e.data.data.records[a].noticeTitle,o.publishUser=e.data.data.records[a].publishUser,o.content=e.data.data.records[a].content,i.notices.push(o)}}else t.$message.error(e.data.data.errMsg)})).catch((function(e){i.loading=!1,console.log(e),t.$message.error("出错了！")}))},handleCurrentChange:function(e){console.log(e);var t="/notice/getNoticeModelPage?currPage="+e+"&size=10";this.getNotices(t)},getNotice_detail:function(e){console.log(e),this.$router.push({path:"./notice_detail",query:{noticeId:e.noticeId}})},upload_document:function(e){var t=this;console.log(e),t.willadd_notice.file=e.file},handleExceed:function(){this.$message.warning("一次只能上传一个文件")},AddConfirm:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var i,a,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=e,a=!1,console.log(e.willadd_notice),""!=e.willadd_notice.noticeTitle&&""!=e.willadd_notice.content){t.next=7;break}e.$notify.warning({title:"提示",content:"请填写通知标题或内容！"}),t.next=20;break;case 7:if(""!=e.willadd_notice.file&&null!=e.willadd_notice.file?i.willadd_notice.file.size/1024/1024<1024?a=!0:e.$message.error("上传文件大小不能超过 1GB！"):a=!0,!a){t.next=20;break}return a=!0,o="/notice/addNotice",n=new FormData,n.append("file",i.willadd_notice.file),n.append("content",i.willadd_notice.content),n.append("noticeTitle",i.willadd_notice.noticeTitle),n.append("publishUser",e.$store.state.signed_username),console.log(n),t.next=19,i.request(o,n,"POST",{}).then((function(t){console.log(t),"success"==t.data.status?(e.$message.success("新增成功！"),i.refresh()):e.$message.error(t.data.data.errMsg)})).catch((function(t){console.log(t),e.$message.error("出错了！")}));case 19:i.AddNoticeVisible=!1;case 20:case"end":return t.stop()}}),t)})))()},FixNotice:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var a,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=t,console.log(e),a.willfix_notice.noticeId=e.noticeId,o="/notice/getNoticeById?noticeId="+e.noticeId,i.next=6,a.request(o,{},"GET",{}).then((function(e){console.log(e),"success"==e.data.status?(a.willfix_notice.noticeTitle=e.data.data.noticeTitle,a.willfix_notice.content=e.data.data.content,a.attachmentId=e.data.data.attachmentId,t.$message.success("修改成功！")):t.$message.error(e.data.data.errMsg)})).catch((function(e){console.log(e),t.$message.error("出错了！")}));case 6:a.FixNoticeVisible=!0;case 7:case"end":return i.stop()}}),i)})))()},download_document:function(){var e=this,t="/notice/downloadAttachment?attachmentId="+e.attachmentId;console.log(t),s["a"].downloadFiles(t)},update_document:function(e){var t=this,i=this;if(console.log(e),console.log(i.willfix_notice),e.file.size/1024/1024<1024){var a="/notice/updateNoticeAttachment",o=new FormData;o.append("file",e.file),o.append("noticeId",i.willfix_notice.noticeId),i.request(a,o,"POST",{}).then((function(e){"success"==e.data.status?(t.$message.success("更新附件成功！"),i.refresh(),i.FixNoticeVisible=!1):t.$message.error(e.data.data.errMsg)})).catch((function(e){console.log(e),t.$message.error("出错了！")}))}else this.$message.error("上传文件大小不能超过 1GB！")},delete_document:function(){var e=this,t=this,i="/notice/deleteNoticeAttachment?noticeId="+t.willfix_notice.noticeId;t.request(i,{},"GET",{}).then((function(i){console.log(i),"success"==i.data.status?(e.$message.success("删除成功！"),t.refresh(),t.FixNoticeVisible=!1):e.$message.error(i.data.data.errMsg)})).catch((function(t){console.log(t),e.$message.error("出错了！")}))},FixConfirm:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e,console.log(i.willfix_notice),t.next=4,i.request("/notice/updateNotice",i.willfix_notice,"POST",{}).then((function(t){console.log(t),"success"==t.data.status?(e.$message.success("修改成功！"),i.refresh()):e.$message.error(t.data.data.errMsg)})).catch((function(t){console.log(t),e.$message.error("出错了！")}));case 4:i.FixNoticeVisible=!1;case 5:case"end":return t.stop()}}),t)})))()},DeleteNotice:function(e){var t=this,i=this;console.log(e),this.$confirm("此操作将永久删除该通知, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((function(){var a="/notice/deleteNoticeById?noticeId="+e.noticeId;i.request(a,{},"GET",{}).then((function(e){console.log(e),"success"==e.data.status?(t.$message.success("删除成功！"),i.refresh()):t.$message.error(e.data.data.errMsg)})).catch((function(e){console.log(e),t.$message.error("出错了！")}))})).catch((function(){t.$message.info("已取消操作！")}))},onPlayerPlay:function(e,t){console.log(e,t),window.open(t)},over_limit:function(){this.$message.warning("一次只支持上传一个视频！"),this.add_video_button_disabled=!1},upload_video:function(e){var t=this;console.log(e),console.log(this.fileList);var i=this;this.add_video_button_disabled=!0,console.log(this.add_video_title);var a=new FormData;a.append("file",e.file),a.append("title",i.add_video_title);var o=d.a.create({baseURL:"/patent_dev",withCredentials:!0});o({method:"POST",url:"/file/uploadVideo",data:a,onUploadProgress:function(t){var i=parseInt(t.loaded/t.total*100|0,10);e.onProgress({percent:i})}}).then((function(e){console.log(e),"success"==e.data.status?(t.$message.success("发布成功！"),t.add_video_title="",t.addVideo_dialog=!1,t.add_video_button_disabled=!1,i.refresh()):t.$message.error(e.data.data.errMsg)})).catch((function(e){console.log(e),t.$message.error("出错了！")}))},submitUpload:function(){""==this.add_video_title||null==this.add_video_title?(this.$message.warning("请填写视频标题！"),this.add_video_button_disabled=!1):this.$refs.uploadVideo.submit()},beforeRemove:function(){this.add_video_button_disabled=!1},DeleteVideo:function(e){var t=this;console.log(e),this.$confirm("删除后不可恢复，确认要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.video_loading=!0;var i="/file/deleteVideoById?fileId="+e.fileId;t.request(i,{},"GET",{}).then((function(e){t.video_loading=!1,console.log(e.data),"success"==e.data.status?(t.$message.success("删除成功！"),t.refresh()):t.$message.error(e.data.data.errMsg)})).catch((function(e){t.video_loading=!1,console.log(e),t.$message.error("出错了！")}))})).catch((function(){t.$message.info("已取消操作！")}))}}},w=b,x=(i("c986"),Object(v["a"])(w,a,o,!1,null,null,null));t["default"]=x.exports},c986:function(e,t,i){"use strict";i("c613")}}]);