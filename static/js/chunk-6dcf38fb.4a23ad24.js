(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6dcf38fb"],{1148:function(e,t,o){"use strict";var r=o("a691"),n=o("1d80");e.exports="".repeat||function(e){var t=String(n(this)),o="",a=r(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(o+=t);return o}},"26c3":function(e,t,o){},"408a":function(e,t,o){var r=o("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},6591:function(e,t,o){"use strict";o("26c3")},"66c6":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"Change_Distribution_Container"},[o("div",{staticClass:"head-btn"},[o("div",{staticClass:"newin_refresh"},[o("div",{staticClass:"refresh"},[o("el-button",{attrs:{icon:"el-icon-plus"},on:{click:function(t){e.plus_proportion_Dialog=!0}}},[e._v(" 增加分配比例 ")]),o("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.refresh}},[e._v(" 刷新列表 ")])],1)])]),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticClass:"tablestyle",staticStyle:{width:"100%"},attrs:{id:"outTable",data:e.tableData,"tooltip-effect":"dark",stripe:""}},[o("el-table-column",{attrs:{prop:"priceRange",label:"净收益金额（万元）"}}),o("el-table-column",{attrs:{prop:"zlsqrqRange",label:"授权年份"}}),o("el-table-column",{attrs:{prop:"recipientProportion",label:"成果完成人"}}),o("el-table-column",{attrs:{prop:"schoolProportion",label:"学校"}}),o("el-table-column",{attrs:{prop:"agencyProportion",label:"中介"}}),o("el-table-column",{attrs:{prop:"departmentProportion",label:"公司"}}),o("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{icon:"el-icon-edit-outline"},on:{click:function(o){return e.FixProportion(t.row)}}},[e._v(" 修改 ")]),o("el-button",{attrs:{icon:"el-icon-delete"},on:{click:function(o){return e.deleteProportion(t.row)}}},[e._v(" 删除 ")])]}}])})],1),o("el-dialog",{staticClass:"change_proportion",attrs:{title:"增加分配比例",visible:e.plus_proportion_Dialog,width:"60%"},on:{"update:visible":function(t){e.plus_proportion_Dialog=t}}},[o("el-table",{staticClass:"money_table",attrs:{data:e.plus_proportion_Data,border:"",stripe:""}},[o("el-table-column",{attrs:{label:"净收益金额上限（万元）"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{type:"number"},model:{value:t.row.priceRangeBegin,callback:function(o){e.$set(t.row,"priceRangeBegin",o)},expression:"scope.row.priceRangeBegin"}})]}}])}),o("el-table-column",{attrs:{label:"净收益金额下限（万元）"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{type:"number"},model:{value:t.row.priceRangeEnd,callback:function(o){e.$set(t.row,"priceRangeEnd",o)},expression:"scope.row.priceRangeEnd"}})]}}])}),o("el-table-column",{attrs:{label:"授权年份上限（万元）"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{type:"number"},model:{value:t.row.zlsqrqRangeBegin,callback:function(o){e.$set(t.row,"zlsqrqRangeBegin",o)},expression:"scope.row.zlsqrqRangeBegin"}})]}}])}),o("el-table-column",{attrs:{label:"授权年份下限（万元）"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{type:"number"},model:{value:t.row.zlsqrqRangeEnd,callback:function(o){e.$set(t.row,"zlsqrqRangeEnd",o)},expression:"scope.row.zlsqrqRangeEnd"}})]}}])}),o("el-table-column",{attrs:{label:"成果完成人"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{type:"number"},model:{value:t.row.recipientProportion,callback:function(o){e.$set(t.row,"recipientProportion",o)},expression:"scope.row.recipientProportion"}})]}}])}),o("el-table-column",{attrs:{label:"学校"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{type:"number"},model:{value:t.row.schoolProportion,callback:function(o){e.$set(t.row,"schoolProportion",o)},expression:"scope.row.schoolProportion"}})]}}])}),o("el-table-column",{attrs:{label:"中介"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{type:"number"},model:{value:t.row.agencyProportion,callback:function(o){e.$set(t.row,"agencyProportion",o)},expression:"scope.row.agencyProportion"}})]}}])}),o("el-table-column",{attrs:{label:"公司"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{type:"number"},model:{value:t.row.departmentProportion,callback:function(o){e.$set(t.row,"departmentProportion",o)},expression:"scope.row.departmentProportion"}})]}}])})],1),o("span",{attrs:{slot:"footer"},slot:"footer"},[o("div",{staticClass:"dialog_footer"},[o("div",{staticClass:"buttons"},[o("el-button",{on:{click:function(t){e.plus_proportion_Dialog=!1}}},[e._v(" 取 消 ")]),o("el-button",{attrs:{type:"primary"},on:{click:e.addProportion}},[e._v("增 加")])],1)])])],1),o("el-dialog",{staticClass:"change_proportion",attrs:{title:"修改分配比例",visible:e.fix_proportion_Dialog,width:"60%"},on:{"update:visible":function(t){e.fix_proportion_Dialog=t}}},[o("el-table",{staticClass:"money_table",attrs:{data:e.fix_proportion_Data,border:"",stripe:""}},[o("el-table-column",{attrs:{label:"净收益金额上限（万元）"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{type:"number"},model:{value:t.row.priceRangeBegin,callback:function(o){e.$set(t.row,"priceRangeBegin",o)},expression:"scope.row.priceRangeBegin"}})]}}])}),o("el-table-column",{attrs:{label:"净收益金额下限（万元）"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{type:"number"},model:{value:t.row.priceRangeEnd,callback:function(o){e.$set(t.row,"priceRangeEnd",o)},expression:"scope.row.priceRangeEnd"}})]}}])}),o("el-table-column",{attrs:{label:"授权年份上限（万元）"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{type:"number"},model:{value:t.row.zlsqrqRangeBegin,callback:function(o){e.$set(t.row,"zlsqrqRangeBegin",o)},expression:"scope.row.zlsqrqRangeBegin"}})]}}])}),o("el-table-column",{attrs:{label:"授权年份下限（万元）"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{type:"number"},model:{value:t.row.zlsqrqRangeEnd,callback:function(o){e.$set(t.row,"zlsqrqRangeEnd",o)},expression:"scope.row.zlsqrqRangeEnd"}})]}}])}),o("el-table-column",{attrs:{label:"成果完成人"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{type:"number"},model:{value:t.row.recipientProportion,callback:function(o){e.$set(t.row,"recipientProportion",o)},expression:"scope.row.recipientProportion"}})]}}])}),o("el-table-column",{attrs:{label:"学校"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{type:"number"},model:{value:t.row.schoolProportion,callback:function(o){e.$set(t.row,"schoolProportion",o)},expression:"scope.row.schoolProportion"}})]}}])}),o("el-table-column",{attrs:{label:"中介"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{type:"number"},model:{value:t.row.agencyProportion,callback:function(o){e.$set(t.row,"agencyProportion",o)},expression:"scope.row.agencyProportion"}})]}}])}),o("el-table-column",{attrs:{label:"公司"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{type:"number"},model:{value:t.row.departmentProportion,callback:function(o){e.$set(t.row,"departmentProportion",o)},expression:"scope.row.departmentProportion"}})]}}])})],1),o("span",{attrs:{slot:"footer"},slot:"footer"},[o("div",{staticClass:"dialog_footer"},[o("div",{staticClass:"buttons"},[o("el-button",{on:{click:function(t){e.change_proportion_Dialog=!1}}},[e._v(" 取 消 ")]),o("el-button",{attrs:{type:"primary"},on:{click:e.change_confirm}},[e._v("修 改")])],1)])])],1)],1)},n=[],a=o("1da1"),i=(o("b680"),o("96cf"),{data:function(){return{price_type:"转让",tableData:[],loading:!0,plus_proportion_Dialog:!1,plus_proportion_Data:[{priceRangeBegin:"",priceRangeEnd:"",zlsqrqRangeBegin:"",zlsqrqRangeEnd:"",recipientProportion:"",schoolProportion:"",agencyProportion:"",departmentProportion:""}],fix_proportion_Dialog:!1,fix_proportion_Data:[]}},created:function(){this.refresh()},methods:{refresh:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tableData=[],e.loading=!0,o="/distribution/getDistributionProportion",t.next=5,e.getProportion(o);case 5:case"end":return t.stop()}}),t)})))()},getProportion:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function o(){var r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return r=t,o.next=3,r.request(e,{},"GET",{}).then((function(e){if(console.log(e.data),r.loading=!1,"success"==e.data.status){for(var o=0;o<e.data.data.length;o++){var n={},a=e.data.data[o].priceRangeBegin+" ~ "+e.data.data[o].priceRangeEnd,i=e.data.data[o].zlsqrqRangeBegin+" ~ "+e.data.data[o].zlsqrqRangeEnd,l=100*e.data.data[o].recipientProportion,s=100*e.data.data[o].schoolProportion,c=100*e.data.data[o].agencyProportion,p=100*e.data.data[o].departmentProportion;console.log(c),n.priceRange=a,n.zlsqrqRange=i,n.recipientProportion=l.toFixed(2)+"%",n.schoolProportion=s.toFixed(2)+"%",n.agencyProportion=c.toFixed(2)+"%",n.departmentProportion=p.toFixed(2)+"%",r.tableData.push(n);var u={};u.priceRangeBegin=e.data.data[o].priceRangeBegin,u.priceRangeEnd=e.data.data[o].priceRangeEnd,u.zlsqrqRangeBegin=e.data.data[o].zlsqrqRangeBegin,u.zlsqrqRangeEnd=e.data.data[o].zlsqrqRangeEnd,u.recipientProportion=e.data.data[o].recipientProportion,u.schoolProportion=e.data.data[o].schoolProportion,u.agencyProportion=e.data.data[o].agencyProportion,u.departmentProportion=e.data.data[o].departmentProportion,r.fix_proportion_Data.push(u)}t.$message({message:"数据已更新！",type:"success"})}else t.$message({message:e.data.data.errMsg,type:"error"})})).catch((function(e){console.log(e),r.loading=!1,t.$message({message:"出错了！",type:"error"})}));case 3:case"end":return o.stop()}}),o)})))()},addProportion:function(){var e=this,t=this;console.log(t.plus_proportion_Data);var o={};o.priceRangeBegin=1*t.plus_proportion_Data[0].priceRangeBegin,o.priceRangeEnd=1*t.plus_proportion_Data[0].priceRangeEnd,o.zlsqrqRangeBegin=1*t.plus_proportion_Data[0].zlsqrqRangeBegin,o.zlsqrqRangeEnd=1*t.plus_proportion_Data[0].zlsqrqRangeEnd,o.recipientProportion=1*t.plus_proportion_Data[0].recipientProportion,o.schoolProportion=1*t.plus_proportion_Data[0].schoolProportion,o.agencyProportion=1*t.plus_proportion_Data[0].agencyProportion,o.departmentProportion=1*t.plus_proportion_Data[0].departmentProportion,t=this,console.log(o),t.request("/distribution/addDistributionProportion",o,"POST",{}).then((function(o){console.log(o.data),"success"==o.data.status?(e.$notify.success({title:"成功",message:"增加成功！"}),t.plus_proportion_Dialog=!1,t.refresh()):e.$notify.error({title:"错误",message:o.data.data.errMsg})})).catch((function(t){console.log(t),e.$notify.error({title:"错误",message:"出错了！"})}))},deleteProportion:function(e){console.log(e);var t=this;t.$notify.warning({title:"温馨提示",message:"暂未开放！"})},FixProportion:function(e){console.log(e);var t=this;t.$notify.warning({title:"温馨提示",message:"暂未开放！"})},change_confirm:function(){var e=this;e.$notify.warning({title:"温馨提示",message:"暂未开放！"})}}}),l=i,s=(o("6591"),o("2877")),c=Object(s["a"])(l,r,n,!1,null,null,null);t["default"]=c.exports},b680:function(e,t,o){"use strict";var r=o("23e7"),n=o("a691"),a=o("408a"),i=o("1148"),l=o("d039"),s=1..toFixed,c=Math.floor,p=function(e,t,o){return 0===t?o:t%2===1?p(e,t-1,o*e):p(e*e,t/2,o)},u=function(e){var t=0,o=e;while(o>=4096)t+=12,o/=4096;while(o>=2)t+=1,o/=2;return t},d=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!l((function(){s.call({})}));r({target:"Number",proto:!0,forced:d},{toFixed:function(e){var t,o,r,l,s=a(this),d=n(e),g=[0,0,0,0,0,0],f="",b="0",m=function(e,t){var o=-1,r=t;while(++o<6)r+=e*g[o],g[o]=r%1e7,r=c(r/1e7)},_=function(e){var t=6,o=0;while(--t>=0)o+=g[t],g[t]=c(o/e),o=o%e*1e7},w=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==g[e]){var o=String(g[e]);t=""===t?o:t+i.call("0",7-o.length)+o}return t};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(f="-",s=-s),s>1e-21)if(t=u(s*p(2,69,1))-69,o=t<0?s*p(2,-t,1):s/p(2,t,1),o*=4503599627370496,t=52-t,t>0){m(0,o),r=d;while(r>=7)m(1e7,0),r-=7;m(p(10,r,1),0),r=t-1;while(r>=23)_(1<<23),r-=23;_(1<<r),m(1,1),_(2),b=w()}else m(0,o),m(1<<-t,0),b=w()+i.call("0",d);return d>0?(l=b.length,b=f+(l<=d?"0."+i.call("0",d-l)+b:b.slice(0,l-d)+"."+b.slice(l-d))):b=f+b,b}})}}]);