(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-edc03e68"],{1148:function(e,t,a){"use strict";var n=a("a691"),r=a("1d80");e.exports="".repeat||function(e){var t=String(r(this)),a="",s=n(e);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(a+=t);return a}},"14c3":function(e,t,a){var n=a("c6b6"),r=a("9263");e.exports=function(e,t){var a=e.exec;if("function"===typeof a){var s=a.call(e,t);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},"1cb3":function(e,t,a){"use strict";a("76a5")},"38cf":function(e,t,a){var n=a("23e7"),r=a("1148");n({target:"String",proto:!0},{repeat:r})},5319:function(e,t,a){"use strict";var n=a("d784"),r=a("825a"),s=a("7b0b"),o=a("50c4"),i=a("a691"),c=a("1d80"),l=a("8aa5"),u=a("14c3"),d=Math.max,f=Math.min,_=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g,h=function(e){return void 0===e?e:String(e)};n("replace",2,(function(e,t,a,n){var v=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,b=n.REPLACE_KEEPS_$0,g=v?"$":"$0";return[function(a,n){var r=c(this),s=void 0==a?void 0:a[e];return void 0!==s?s.call(a,r,n):t.call(String(r),a,n)},function(e,n){if(!v&&b||"string"===typeof n&&-1===n.indexOf(g)){var s=a(t,e,this,n);if(s.done)return s.value}var c=r(e),_=String(this),p="function"===typeof n;p||(n=String(n));var m=c.global;if(m){var P=c.unicode;c.lastIndex=0}var C=[];while(1){var I=u(c,_);if(null===I)break;if(C.push(I),!m)break;var k=String(I[0]);""===k&&(c.lastIndex=l(_,o(c.lastIndex),P))}for(var F="",$=0,A=0;A<C.length;A++){I=C[A];for(var E=String(I[0]),w=d(f(i(I.index),_.length),0),y=[],R=1;R<I.length;R++)y.push(h(I[R]));var M=I.groups;if(p){var S=[E].concat(y,w,_);void 0!==M&&S.push(M);var T=String(n.apply(void 0,S))}else T=x(E,_,w,y,M,n);w>=$&&(F+=_.slice($,w)+T,$=w+E.length)}return F+_.slice($)}];function x(e,a,n,r,o,i){var c=n+e.length,l=r.length,u=m;return void 0!==o&&(o=s(o),u=p),t.call(i,u,(function(t,s){var i;switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return a.slice(0,n);case"'":return a.slice(c);case"<":i=o[s.slice(1,-1)];break;default:var u=+s;if(0===u)return t;if(u>l){var d=_(u/10);return 0===d?t:d<=l?void 0===r[d-1]?s.charAt(1):r[d-1]+s.charAt(1):t}i=r[u-1]}return void 0===i?"":i}))}}))},"76a5":function(e,t,a){},"8aa5":function(e,t,a){"use strict";var n=a("6547").charAt;e.exports=function(e,t,a){return t+(a?n(e,t).length:1)}},9263:function(e,t,a){"use strict";var n=a("ad6d"),r=a("9f7f"),s=RegExp.prototype.exec,o=String.prototype.replace,i=s,c=function(){var e=/a/,t=/b*/g;return s.call(e,"a"),s.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=r.UNSUPPORTED_Y||r.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=c||u||l;d&&(i=function(e){var t,a,r,i,d=this,f=l&&d.sticky,_=n.call(d),p=d.source,m=0,h=e;return f&&(_=_.replace("y",""),-1===_.indexOf("g")&&(_+="g"),h=String(e).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==e[d.lastIndex-1])&&(p="(?: "+p+")",h=" "+h,m++),a=new RegExp("^(?:"+p+")",_)),u&&(a=new RegExp("^"+p+"$(?!\\s)",_)),c&&(t=d.lastIndex),r=s.call(f?a:d,h),f?r?(r.input=r.input.slice(m),r[0]=r[0].slice(m),r.index=d.lastIndex,d.lastIndex+=r[0].length):d.lastIndex=0:c&&r&&(d.lastIndex=d.global?r.index+r[0].length:t),u&&r&&r.length>1&&o.call(r[0],a,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),e.exports=i},"9f7f":function(e,t,a){"use strict";var n=a("d039");function r(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,a){"use strict";var n=a("23e7"),r=a("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(e,t,a){"use strict";var n=a("825a");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},bc80:function(e,t,a){e.exports=a.p+"static/img/ava.edde3cb7.jpg"},d784:function(e,t,a){"use strict";a("ac1f");var n=a("6eeb"),r=a("d039"),s=a("b622"),o=a("9263"),i=a("9112"),c=s("species"),l=!r((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=s("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),_=!r((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));e.exports=function(e,t,a,d){var p=s(e),m=!r((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),h=m&&!r((function(){var t=!1,a=/a/;return"split"===e&&(a={},a.constructor={},a.constructor[c]=function(){return a},a.flags="",a[p]=/./[p]),a.exec=function(){return t=!0,null},a[p](""),!t}));if(!m||!h||"replace"===e&&(!l||!u||f)||"split"===e&&!_){var v=/./[p],b=a(p,""[e],(function(e,t,a,n,r){return t.exec===o?m&&!r?{done:!0,value:v.call(t,a,n)}:{done:!0,value:e.call(a,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),g=b[0],x=b[1];n(String.prototype,e,g),n(RegExp.prototype,p,2==t?function(e,t){return x.call(e,this,t)}:function(e){return x.call(e,this)})}d&&i(RegExp.prototype[p],"sham",!0)}},e382:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"UserInfo"},[a("div",{staticClass:"Left"},[a("div",{staticClass:"MainInfo"},[e._m(0),a("div",{staticClass:"username"},[e._v(e._s(e.userinfo.username))]),a("div",{staticClass:"authorize"},[e._v(e._s(e.userinfo.authorize))])])]),a("div",{staticClass:"Right"},[a("div",{staticClass:"right_box"},[a("div",{staticClass:"title"},[a("div",{staticClass:"top"},[e._v(" 用户信息 "),a("t-button",{attrs:{variant:"outline",theme:"warning"},on:{click:function(t){e.editInfoVisible=!0}}},[a("t-icon",{attrs:{name:"edit"}}),e._v(" 修改信息 ")],1)],1),a("div",{staticClass:"below"},[e._v(" 你的个人信息，其中包括可以联系到您的电话号码和电子邮件地址 ")])]),a("div",{staticClass:"InfoDetail"},[a("div",{staticClass:"Part"},[a("div",{staticClass:"Info_Menu"},[e._v("姓名")]),a("div",{staticClass:"Info_Answer"},[a("span",[e._v(e._s(e.userinfo.username))])])]),a("div",{staticClass:"Part"},[a("div",{staticClass:"Info_Menu"},[e._v("工号 / 学号")]),a("div",{staticClass:"Info_Answer"},[a("span",[e._v(e._s(e.userinfo.number))])])]),a("div",{staticClass:"Part",on:{click:function(t){e.LinkPhoneVisible=!0}}},[a("div",{staticClass:"Info_Menu"},[e._v("联系方式")]),a("div",{staticClass:"Info_Answer"},[a("span",[e._v(e._s(e.userinfo.userPhone))])])]),["root","admin","superadmin"].includes(this.$store.state.signed_authorize)?a("div",{staticClass:"Part",on:{click:function(t){e.editInfoVisible=!0}}},[a("div",{staticClass:"Info_Menu"},[e._v("身份证号")]),a("div",{staticClass:"Info_Answer"},[a("span",[e._v(e._s(e.userinfo.userIdCard))])])]):e._e(),a("div",{staticClass:"Part",on:{click:function(t){e.editInfoVisible=!0}}},[a("div",{staticClass:"Info_Menu"},[e._v("电子邮箱")]),a("div",{staticClass:"Info_Answer"},[a("span",[e._v(e._s(e.userinfo.userEmail))])])]),["root","superadmin","admin"].includes(this.$store.state.signed_authorize)?a("div",{staticClass:"Part Manage",on:{click:e.change_distribution}},[a("div",{staticClass:"Info_Menu"},[e._v("调整收益分配比例")])]):e._e()])]),["root","superadmin","admin"].includes(this.$store.state.signed_authorize)?a("t-divider",{staticStyle:{padding:"10px 30px"},attrs:{align:"center"}},[a("t-icon",{attrs:{name:"tools"}})],1):e._e(),["root","superadmin","admin"].includes(this.$store.state.signed_authorize)?a("div",{staticClass:"right_box"},[a("div",{staticClass:"title"},[a("div",{staticClass:"top"},[e._v(" 信息维护（合同乙方） "),a("t-button",{attrs:{variant:"outline",theme:"warning"},on:{click:function(t){e.fixContractInfoVisible=!0}}},[a("t-icon",{attrs:{name:"edit"}}),e._v(" 修改信息 ")],1)],1),a("div",{staticClass:"below"},[e._v("你可以在这里对常用信息进行更新维护")])]),a("div",{staticClass:"InfoDetail"},[a("div",{staticClass:"Part"},[a("div",{staticClass:"Info_Menu"},[e._v("法定代表人")]),a("div",{staticClass:"Info_Answer"},[a("span",[e._v(e._s(e.fix_ruleForm.contractPbRepresentative))])])]),a("div",{staticClass:"Part"},[a("div",{staticClass:"Info_Menu"},[e._v("电话")]),a("div",{staticClass:"Info_Answer"},[a("span",[e._v(e._s(e.fix_ruleForm.contractPbTel))])])]),a("div",{staticClass:"Part"},[a("div",{staticClass:"Info_Menu"},[e._v("邮箱")]),a("div",{staticClass:"Info_Answer"},[a("span",[e._v(e._s(e.fix_ruleForm.contractPbEmail))])])]),a("div",{staticClass:"Part"},[a("div",{staticClass:"Info_Menu"},[e._v("通讯地址")]),a("div",{staticClass:"Info_Answer"},[a("span",[e._v(e._s(e.fix_ruleForm.contractPbMailingAddress))])])]),a("div",{staticClass:"Part"},[a("div",{staticClass:"Info_Menu"},[e._v("地址")]),a("div",{staticClass:"Info_Answer"},[a("span",[e._v(e._s(e.fix_ruleForm.contractPbAddress))])])]),a("div",{staticClass:"Part"},[a("div",{staticClass:"Info_Menu"},[e._v("开户银行")]),a("div",{staticClass:"Info_Answer"},[a("span",[e._v(e._s(e.fix_ruleForm.contractPbBankName))])])]),a("div",{staticClass:"Part"},[a("div",{staticClass:"Info_Menu"},[e._v("银行账户名称")]),a("div",{staticClass:"Info_Answer"},[a("span",[e._v(e._s(e.fix_ruleForm.contractPbBankAccountName))])])]),a("div",{staticClass:"Part"},[a("div",{staticClass:"Info_Menu"},[e._v("银行账户")]),a("div",{staticClass:"Info_Answer"},[a("span",[e._v(e._s(e.fix_ruleForm.contractPbBankAccount))])])]),a("div",{staticClass:"Part"},[a("div",{staticClass:"Info_Menu"},[e._v("现金奖励公示联系地址")]),a("div",{staticClass:"Info_Answer"},[a("span",[e._v(e._s(e.fix_ruleForm.cashRewardContactAddress))])])])])]):e._e(),["root","superadmin"].includes(this.$store.state.signed_authorize)?a("t-divider",{staticStyle:{padding:"10px 30px"},attrs:{align:"center"}},[e._v(" 超级管理员 ")]):e._e(),["root","superadmin"].includes(this.$store.state.signed_authorize)?a("div",{staticClass:"right_box"},[e._m(1),a("div",{staticClass:"InfoDetail"},[a("div",{staticClass:"Part Manage",on:{click:e.manager}},[a("div",{staticClass:"Info_Menu"},[e._v("人员管理")])]),a("div",{staticClass:"Part Manage",on:{click:e.opreate_history}},[a("div",{staticClass:"Info_Menu"},[e._v("操作记录")])])])]):e._e()],1),a("el-dialog",{attrs:{title:"绑定手机号",visible:e.LinkPhoneVisible,width:"35%"},on:{"update:visible":function(t){e.LinkPhoneVisible=t}}},[a("el-form",{ref:"phone_ruleForm",attrs:{model:e.phone_code,rules:e.phone_rules}},[""==e.userinfo.userPhone||null==e.userinfo.userPhone?a("el-form-item",{attrs:{label:"绑定手机号",prop:"phone"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入手机号",type:"number"},model:{value:e.phone_code.phone,callback:function(t){e.$set(e.phone_code,"phone",t)},expression:"phone_code.phone"}},[e.send_code?a("el-button",{attrs:{slot:"append",disabled:""},slot:"append"},[e._v(e._s(e.send_code_second)+"秒之后重新获取")]):a("el-button",{attrs:{slot:"append"},on:{click:function(t){return e.send_code_addPhone("phone_ruleForm")}},slot:"append"},[e._v("获取验证码")])],1),e.send_code?a("el-input",{staticClass:"input-with-select",staticStyle:{"margin-top":"10px"},attrs:{placeholder:"请输入验证码"},model:{value:e.phone_code.code,callback:function(t){e.$set(e.phone_code,"code",t)},expression:"phone_code.code"}},[e.send_code?a("el-button",{attrs:{slot:"append"},on:{click:function(t){return e.confirm_code("add")}},slot:"append"},[e._v("确认")]):e._e()],1):e._e()],1):e._e(),""==e.userinfo.userPhone||null==e.userinfo.userPhone||e.verify_phone?e._e():a("el-form-item",{attrs:{label:"修改绑定手机号"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入验证码"},model:{value:e.phone_code.code,callback:function(t){e.$set(e.phone_code,"code",t)},expression:"phone_code.code"}},[e.send_code?a("el-button",{attrs:{slot:"prepend"},on:{click:function(t){return e.confirm_code("verify")}},slot:"prepend"},[e._v("确认")]):e._e(),e.send_code?a("el-button",{attrs:{slot:"append",disabled:""},slot:"append"},[e._v(e._s(e.send_code_second)+"秒之后重新获取")]):a("el-button",{attrs:{slot:"append"},on:{click:function(t){return e.send_code_fixPhone("phone_ruleForm")}},slot:"append"},[e._v("获取验证码")])],1)],1),""!=e.userinfo.userPhone&&null!=e.userinfo.userPhone&&e.verify_phone?a("el-form-item",{attrs:{label:"绑定新的手机号",prop:"phone"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入手机号",type:"number"},model:{value:e.phone_code.phone,callback:function(t){e.$set(e.phone_code,"phone",t)},expression:"phone_code.phone"}},[e.send_code?a("el-button",{attrs:{slot:"append",disabled:""},slot:"append"},[e._v(e._s(e.send_code_second)+"秒之后重新获取")]):a("el-button",{attrs:{slot:"append"},on:{click:function(t){return e.send_code_addPhone("phone_ruleForm")}},slot:"append"},[e._v("获取验证码")])],1),e.send_code?a("el-input",{staticClass:"input-with-select",staticStyle:{"margin-top":"10px"},attrs:{placeholder:"请输入验证码"},model:{value:e.phone_code.code,callback:function(t){e.$set(e.phone_code,"code",t)},expression:"phone_code.code"}},[e.send_code?a("el-button",{attrs:{slot:"append"},on:{click:function(t){return e.confirm_code("fix")}},slot:"append"},[e._v("确认")]):e._e()],1):e._e()],1):e._e()],1)],1),a("el-dialog",{attrs:{title:"修改信息",visible:e.editInfoVisible,width:"35%"},on:{"update:visible":function(t){e.editInfoVisible=t}}},[a("el-form",{ref:"info_ruleForm",attrs:{model:e.info_ruleForm,rules:e.info_rules}},[["root","superadmin","admin"].includes(this.$store.state.signed_authorize)?a("el-form-item",{attrs:{label:"身份证号",prop:"userIdCard"}},[a("el-input",{model:{value:e.info_ruleForm.userIdCard,callback:function(t){e.$set(e.info_ruleForm,"userIdCard",t)},expression:"info_ruleForm.userIdCard"}})],1):e._e(),a("el-form-item",{attrs:{label:"电子邮箱",prop:"userEmail"}},[a("el-input",{model:{value:e.info_ruleForm.userEmail,callback:function(t){e.$set(e.info_ruleForm,"userEmail",t)},expression:"info_ruleForm.userEmail"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("t-button",{staticStyle:{"margin-right":"10px"},attrs:{theme:"default",size:"large"},on:{click:function(t){e.editInfoVisible=!1}}},[e._v("取 消")]),a("t-button",{attrs:{theme:"primary",size:"large"},on:{click:function(t){return e.ConfirmChange("info_ruleForm")}}},[e._v(" 确 认 ")])],1)],1),a("el-dialog",{attrs:{title:"信息维护",visible:e.fixContractInfoVisible,width:"800px"},on:{"update:visible":function(t){e.fixContractInfoVisible=t}}},[a("el-form",{ref:"fix_ruleForm",attrs:{model:e.fix_ruleForm,rules:e.fix_rules,inline:""}},[a("el-form-item",{attrs:{label:"法定代表人"}},[a("el-input",{staticStyle:{width:"150px"},model:{value:e.fix_ruleForm.contractPbRepresentative,callback:function(t){e.$set(e.fix_ruleForm,"contractPbRepresentative",t)},expression:"fix_ruleForm.contractPbRepresentative"}})],1),a("el-form-item",{attrs:{label:"电话",prop:"contractPbTel"}},[a("el-input",{staticStyle:{width:"150px"},model:{value:e.fix_ruleForm.contractPbTel,callback:function(t){e.$set(e.fix_ruleForm,"contractPbTel",t)},expression:"fix_ruleForm.contractPbTel"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"contractPbEmail"}},[a("el-input",{staticStyle:{width:"240px"},model:{value:e.fix_ruleForm.contractPbEmail,callback:function(t){e.$set(e.fix_ruleForm,"contractPbEmail",t)},expression:"fix_ruleForm.contractPbEmail"}})],1),a("el-form-item",{attrs:{label:"通讯地址"}},[a("el-input",{staticStyle:{width:"674px"},model:{value:e.fix_ruleForm.contractPbMailingAddress,callback:function(t){e.$set(e.fix_ruleForm,"contractPbMailingAddress",t)},expression:"fix_ruleForm.contractPbMailingAddress"}})],1),a("el-form-item",{attrs:{label:"地址"}},[a("el-input",{staticStyle:{width:"703px"},model:{value:e.fix_ruleForm.contractPbAddress,callback:function(t){e.$set(e.fix_ruleForm,"contractPbAddress",t)},expression:"fix_ruleForm.contractPbAddress"}})],1),a("el-form-item",{attrs:{label:"开户银行"}},[a("el-input",{staticStyle:{width:"192px"},model:{value:e.fix_ruleForm.contractPbBankName,callback:function(t){e.$set(e.fix_ruleForm,"contractPbBankName",t)},expression:"fix_ruleForm.contractPbBankName"}})],1),a("el-form-item",{attrs:{label:"银行账户名称"}},[a("el-input",{staticStyle:{width:"150px"},model:{value:e.fix_ruleForm.contractPbBankAccountName,callback:function(t){e.$set(e.fix_ruleForm,"contractPbBankAccountName",t)},expression:"fix_ruleForm.contractPbBankAccountName"}})],1),a("el-form-item",{attrs:{label:"银行账户"}},[a("el-input",{staticStyle:{width:"150px"},model:{value:e.fix_ruleForm.contractPbBankAccount,callback:function(t){e.$set(e.fix_ruleForm,"contractPbBankAccount",t)},expression:"fix_ruleForm.contractPbBankAccount"}})],1),a("el-form-item",{attrs:{label:"现金奖励公示联系地址"}},[a("el-input",{staticStyle:{width:"593px"},model:{value:e.fix_ruleForm.cashRewardContactAddress,callback:function(t){e.$set(e.fix_ruleForm,"cashRewardContactAddress",t)},expression:"fix_ruleForm.cashRewardContactAddress"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("t-button",{staticStyle:{"margin-right":"10px"},attrs:{theme:"default",size:"large"},on:{click:function(t){e.fixContractInfoVisible=!1}}},[e._v("取 消")]),a("t-button",{attrs:{theme:"primary",size:"large"},on:{click:function(t){return e.ConfirmChange("fix_ruleForm")}}},[e._v(" 确 认 ")])],1)],1)],1)},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Ava"},[n("img",{attrs:{src:a("bc80"),alt:""}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("div",{staticClass:"top"},[e._v("管理")]),a("div",{staticClass:"below"},[e._v("您是尊贵的管理员，可以在这里查看您的员工信息以及员工的操作记录")])])}],s=a("1da1"),o=(a("96cf"),a("caad"),a("ac1f"),a("5319"),a("fb6a"),a("38cf"),a("2f62"),a("61f7")),i=a("5f87"),c={mounted:function(){Object(i["a"])()},created:function(){this.refresh()},data:function(){return{userinfo:{username:this.$store.state.signed_username,authorize:"",number:this.$store.state.signed_id,userPhone:"",userIdCard:"",userEmail:""},editInfoVisible:!1,LinkPhoneVisible:!1,send_code:!1,send_code_second:"",phone_code:{phone:"",code:""},code_timer:null,verify_phone:!1,phone_rules:{phone:[{required:!0,validator:o["d"],trigger:"blur"}]},info_ruleForm:{userIdCard:"",userPhone:"",userEmail:""},info_rules:{userPhone:[{required:!0,validator:o["d"],trigger:"blur"}],userIdCard:[{required:!0,validator:o["c"],trigger:"blur"}],userEmail:[{required:!0,validator:o["b"],trigger:"blur"}]},commonInfo:{cashRewardContactAddress:"",contractPbAddress:"",contractPbBankAccount:"",contractPbBankAccountName:"",contractPbBankName:"",contractPbEmail:"",contractPbMailingAddress:"",contractPbRepresentative:"",contractPbTel:""},fixContractInfoVisible:!1,fix_ruleForm:{cashRewardContactAddress:"",contractPbAddress:"",contractPbBankAccount:"",contractPbBankAccountName:"",contractPbBankName:"",contractPbEmail:"",contractPbMailingAddress:"",contractPbRepresentative:"",contractPbTel:""},fix_rules:{contractPbTel:[{required:!0,validator:o["d"],trigger:"blur"}],contractPbEmail:[{required:!0,validator:o["b"],trigger:"blur"}]}}},methods:{refresh:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(e.$store.state.signed_authorize),t.t0=e.$store.state.signed_authorize,t.next="teacher"===t.t0?4:"superadmin"===t.t0?6:"admin"===t.t0?8:"finance"===t.t0?10:"root"===t.t0?12:14;break;case 4:return e.userinfo.authorize="教师",t.abrupt("break",14);case 6:return e.userinfo.authorize="产学研超级管理员",t.abrupt("break",14);case 8:return e.userinfo.authorize="产学研",t.abrupt("break",14);case 10:return e.userinfo.authorize="财务处",t.abrupt("break",14);case 12:return e.userinfo.authorize="Root",t.abrupt("break",14);case 14:return t.next=16,e.request("/user/getUserContactInfo",{},"GET",{}).then((function(t){console.log(t.data),"success"==t.data.status?(e.userinfo.userPhone=t.data.data.userPhone,console.log(e.userinfo.authorize),["Root","产学研超级管理员","产学研"].includes(e.userinfo.authorize)&&(e.userinfo.userIdCard=t.data.data.userIdCard.replace(t.data.data.userIdCard.slice(4,14),"*".repeat(10))),e.userinfo.userEmail=t.data.data.userEmail,e.info_ruleForm.userPhone=t.data.data.userPhone,e.info_ruleForm.userIdCard=t.data.data.userIdCard,e.info_ruleForm.userEmail=t.data.data.userEmail):e.$message.error(t.data.data.errMsg)})).catch((function(t){console.log(t),e.loading=!1,e.$message.error("出错了！")}));case 16:if(!["root","superadmin","admin"].includes(e.$store.state.signed_authorize)){t.next=19;break}return t.next=19,e.request("/basicInfo/getBasicInfo",{},"GET",{}).then((function(t){console.log(t.data),"success"==t.data.status?(e.commonInfo.cashRewardContactAddress=t.data.data.cashRewardContactAddress,e.commonInfo.contractPbAddress=t.data.data.contractPbAddress,e.commonInfo.contractPbBankAccount=t.data.data.contractPbBankAccount,e.commonInfo.contractPbBankAccountName=t.data.data.contractPbBankAccountName,e.commonInfo.contractPbBankName=t.data.data.contractPbBankName,e.commonInfo.contractPbEmail=t.data.data.contractPbEmail,e.commonInfo.contractPbMailingAddress=t.data.data.contractPbMailingAddress,e.commonInfo.contractPbRepresentative=t.data.data.contractPbRepresentative,e.commonInfo.contractPbTel=t.data.data.contractPbTel,e.fix_ruleForm.cashRewardContactAddress=t.data.data.cashRewardContactAddress,e.fix_ruleForm.contractPbAddress=t.data.data.contractPbAddress,e.fix_ruleForm.contractPbBankAccount=t.data.data.contractPbBankAccount,e.fix_ruleForm.contractPbBankAccountName=t.data.data.contractPbBankAccountName,e.fix_ruleForm.contractPbBankName=t.data.data.contractPbBankName,e.fix_ruleForm.contractPbEmail=t.data.data.contractPbEmail,e.fix_ruleForm.contractPbMailingAddress=t.data.data.contractPbMailingAddress,e.fix_ruleForm.contractPbRepresentative=t.data.data.contractPbRepresentative,e.fix_ruleForm.contractPbTel=t.data.data.contractPbTel):e.$message.error(t.data.data.errMsg)})).catch((function(t){console.log(t),e.loading=!1,e.$message.error("出错了！")}));case 19:case"end":return t.stop()}}),t)})))()},change_distribution:function(){this.$router.push({path:"/change_distribution"})},manager:function(){this.$router.push({path:"/userlist"})},opreate_history:function(){this.$router.push({path:"/opreate_log"})},send_code_addPhone:function(e){var t=this;this.$refs[e].validate((function(e){if(e){var a="/user/sendCodeMsg?phone="+t.phone_code.phone;t.request(a,{},"GET",{}).then((function(e){console.log(e.data),"success"==e.data.status?(t.$message.success("验证码已发送，请注意查收！"),t.send_code=!0,t.send_code_second=30,t.code_timer=setInterval((function(){0==t.send_code_second?(clearInterval(t.code_timer),t.send_code=!1):t.send_code_second--}),1e3)):t.$message.error(e.data.data.errMsg)})).catch((function(e){console.log(e),t.$message.error("出错了！")}))}}))},send_code_fixPhone:function(e){var t=this;this.verify_phone=!1,console.log(this.userinfo),this.$refs[e].validate((function(e){if(e){var a="/user/sendCodeMsg?phone="+t.userinfo.userPhone;t.request(a,{},"GET",{}).then((function(e){console.log(e.data),"success"==e.data.status?(t.send_code=!0,t.send_code_second=30,t.code_timer=setInterval((function(){0==t.send_code_second?(clearInterval(t.code_timer),t.send_code=!1):t.send_code_second--}),1e3),t.$message.success("验证码已发送，请注意查收！")):t.$message.error(e.data.data.errMsg)})).catch((function(e){console.log(e),t.$message.error("出错了！")}))}}))},confirm_code:function(e){var t=this,a=this;switch(e){case"add":console.log(this.phone_code),this.request("/user/addPhone",a.phone_code,"POST",{}).then((function(e){console.log(e.data),"success"==e.data.status?(a.$message.success("绑定手机成功！"),a.LinkPhoneVisible=!1,a.phone_code.phone="",a.phone_code.code="",clearInterval(a.code_timer),t.refresh()):a.$message.error(e.data.data.errMsg)})).catch((function(e){console.log(e),a.$message.error("出错了！")}));break;case"verify":a.phone_code.phone=a.userinfo.userPhone,a.verify_phone=!1,this.request("/user/verifyPhone",a.phone_code,"POST",{}).then((function(e){console.log(e.data),"success"==e.data.status?(a.$message.success("验证成功！"),a.verify_phone=!0,a.phone_code.phone="",a.phone_code.code="",clearInterval(a.code_timer)):a.$message.error(e.data.data.errMsg)})).catch((function(e){console.log(e),a.$message.error("出错了！")}));break;case"fix":a.verify_phone=!1,this.request("/user/updatePhone",a.phone_code,"POST",{}).then((function(e){console.log(e.data),"success"==e.data.status?(a.$message.success("修改绑定手机成功！"),a.LinkPhoneVisible=!1,a.phone_code.phone="",a.phone_code.code="",clearInterval(a.code_timer),t.refresh()):a.$message.error(e.data.data.errMsg)})).catch((function(e){console.log(e),a.$message.error("出错了！")}));break}},ConfirmChange:function(e){var t=this;this.$refs[e].validate((function(a){if(a)switch(console.log(e),e){case"info_ruleForm":t.ConfirmInfo();break;case"fix_ruleForm":t.ConfirmFix();break}}))},ConfirmInfo:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=!1,""==e.info_ruleForm.userPhone||null==e.info_ruleForm.userPhone){t.next=7;break}return n={},n.type=1,n.value=e.info_ruleForm.userPhone,t.next=7,e.request("/user/updateUserInfo",n,"POST",{}).then((function(t){console.log(t.data),"success"==t.data.status?a=!0:e.$message.error(t.data.data.errMsg)})).catch((function(t){console.log(t),e.loading=!1,e.$message.error("出错了！")}));case 7:if(""==e.info_ruleForm.userEmail||null==e.info_ruleForm.userEmail){t.next=13;break}return r={},r.type=2,r.value=e.info_ruleForm.userEmail,t.next=13,e.request("/user/updateUserInfo",r,"POST",{}).then((function(t){console.log(t.data),"success"==t.data.status?a=!0:e.$message.error(t.data.data.errMsg)})).catch((function(t){console.log(t),e.loading=!1,e.$message.error("出错了！")}));case 13:if(""==e.info_ruleForm.userIdCard||null==e.info_ruleForm.userIdCard){t.next=19;break}return s={},s.type=3,s.value=e.info_ruleForm.userIdCard,t.next=19,e.request("/user/updateUserInfo",s,"POST",{}).then((function(t){console.log(t.data),"success"==t.data.status?a=!0:e.$message.error(t.data.data.errMsg)})).catch((function(t){console.log(t),e.loading=!1,e.$message.error("出错了！")}));case 19:a&&e.$message.success("修改成功！"),e.refresh(),e.editInfoVisible=!1;case 22:case"end":return t.stop()}}),t)})))()},ConfirmFix:function(){var e=this;this.request("/basicInfo/updateBasicInfo",this.fix_ruleForm,"POST",{}).then((function(t){console.log(t.data),"success"==t.data.status?(e.$message.success("更新成功！"),e.fixContractInfoVisible=!1):e.$message.error(t.data.data.errMsg)})).catch((function(t){console.log(t),e.$message.error("出错了！")}))}}},l=c,u=(a("1cb3"),a("2877")),d=Object(u["a"])(l,n,r,!1,null,null,null);t["default"]=d.exports}}]);