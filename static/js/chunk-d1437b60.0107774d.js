(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d1437b60"],{"8b78":function(e,t,a){},b011:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"UserList"},[a("div",{staticClass:"head-btn"},[a("div",{staticClass:"Search"}),a("div",{staticClass:"refresh_handle"},[a("div",{staticClass:"refresh"},[a("el-button",{attrs:{icon:"el-icon-plus"},on:{click:function(t){e.add_admin_dialog=!0}}},[e._v("添加管理员 ")]),a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.refresh}},[e._v("刷新列表")])],1)])]),a("el-table",{ref:"multipleTable",staticClass:"tablestyle",staticStyle:{width:"100%"},attrs:{id:"outTable",data:e.tableData,"tooltip-effect":"dark",stripe:""}},[a("el-table-column",{attrs:{prop:"index",label:"序号",width:"60"}}),a("el-table-column",{attrs:{prop:"userName",label:"姓名"}}),a("el-table-column",{attrs:{prop:"userGh",label:"工号"}}),a("el-table-column",{attrs:{prop:"authorize",label:"权限"}}),a("el-table-column",{attrs:{prop:"setting",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除 ")])]}}])})],1),a("el-dialog",{attrs:{title:"添加管理员",visible:e.add_admin_dialog,width:"30%"},on:{"update:visible":function(t){e.add_admin_dialog=t}}},[a("div",[a("span",[e._v("姓名：")]),a("el-input",{staticStyle:{"margin-top":"5px"},attrs:{placeholder:"请输入姓名"},model:{value:e.willadd.userName,callback:function(t){e.$set(e.willadd,"userName",t)},expression:"willadd.userName"}})],1),a("div",{staticStyle:{"margin-top":"20px"}},[a("span",[e._v("工号：")]),a("el-input",{staticStyle:{"margin-top":"5px"},attrs:{placeholder:"请输入工号"},model:{value:e.willadd.userGh,callback:function(t){e.$set(e.willadd,"userGh",t)},expression:"willadd.userGh"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.PutdialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addConfirm()}}},[e._v("添 加")])],1)])],1)},l=[],n={data:function(){return{tableData:[],total:0,add_admin_dialog:!1,willadd:{userName:"",userGh:""}}},created:function(){this.refresh()},methods:{refresh:function(){var e=this,t=this;t.tableData=[],t.request("/admin/getAdminList",{},"GET",{}).then((function(a){if(console.log(a.data),"success"==a.data.status){for(var s=0;s<a.data.data.length;s++){var l={};l.index=s+1,l.userName=a.data.data[s].userName,l.userGh=a.data.data[s].userGh,l.authorize="管理员",t.tableData.push(l)}e.$message({message:"数据已更新！",type:"success"})}else e.$message({message:a.data.data.errMsg,type:"error"})})).catch((function(){e.$message({message:"出错了！",type:"error"})}))},addConfirm:function(){var e=this,t=this;console.log(t.willadd),t.request("/admin/addAdmin",t.willadd,"POST",{}).then((function(a){console.log(a.data),"success"==a.data.status?(e.$message({message:"添加成功！",type:"success"}),t.refresh()):e.$message({message:a.data.data.errMsg,type:"error"})})).catch((function(t){console.log(t),e.$message({message:"出错了！",type:"error"})})),t.add_admin_dialog=!1,t.refresh()},handleDelete:function(e){var t=this,a=this;console.log(e),this.$confirm("确定删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(){var s="/admin/deleteAdmin?userGh="+e.userGh;a.request(s,{},"GET",{}).then((function(e){console.log(e.data),"success"==e.data.status?(t.$message({message:"已删除！",type:"success"}),a.refresh()):t.$message({message:e.data.data.errMsg,type:"error"})})).catch((function(){t.$message({message:"出错了！",type:"error"})}))})).catch((function(){t.$message({type:"info",message:"取消操作！"})}))}}},i=n,r=(a("b129"),a("2877")),o=Object(r["a"])(i,s,l,!1,null,null,null);t["default"]=o.exports},b129:function(e,t,a){"use strict";a("8b78")}}]);