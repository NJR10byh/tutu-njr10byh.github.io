(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b224c6ca"],{"1c05":function(e,t,a){},"3a48":function(e,t,a){"use strict";a("1c05")},af2c:function(e,t,a){"use strict";a("ac1f"),a("1276"),a("caad"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d");var o=a("4ec3"),r=a("5c96"),n=a.n(r),l=function(e){var t="/file/downloadFileById?fileId="+e;Object(o["a"])(t,{},"GET",{},"arraybuffer").then((function(e){if(console.log(e),void 0==e.headers["content-disposition"])n.a.Notification({title:"错误",message:"文件可能丢失了！",type:"error"});else{var t="",a=e.headers["content-disposition"].split("fileName=")[1].split(".").length,o=e.headers["content-disposition"].split("fileName=")[1].split(".")[a-1];if(["pdf","png","jpg","jpeg"].includes(o)){switch(o){case"pdf":t="application/pdf";break;case"png":t="image/png";break;case"jpg":t="image/jpeg";break;case"jpeg":t="image/jpeg";break}var r=e.data,l=decodeURI(e.headers["content-disposition"].split("fileName=")[1]);if(window.navigator&&window.navigator.msSaveOrOpenBlob){var i=new Blob([r],{type:t});console.log(l),window.navigator.msSaveOrOpenBlob(i,l)}else{var s=new Blob([r],{type:t}),c=window.URL.createObjectURL(s);console.log(c),window.open(c)}}else n.a.Notification({title:"提示",message:"该文件类型暂不支持在线预览，请下载后查看！",type:"warning"})}})).catch((function(e){console.log(e),n.a.Message({message:"出错了！",type:"error"})}))},i=function(e){Object(o["a"])(e,{},"GET",{},"blob").then((function(t){if(console.log(t),void 0!=t.headers["content-disposition"]){n.a.Notification({title:"成功",message:"准备开始下载！",type:"success"});var a=decodeURI(t.headers["content-disposition"].split("fileName=")[1]);try{var r=new Blob([t.data],{type:"application/force-download"}),l=URL.createObjectURL(r),i=document.createElement("a");i.href=l,i.setAttribute("download",a),document.body.appendChild(i),i.click(),document.body.removeChild(i)}catch(s){console.log(s),n.a.Message({message:"数据请求失败！",type:"error"})}}else Object(o["a"])(e,{},"GET",{}).then((function(e){n.a.Message({message:e.data.data.errMsg,type:"error"})}))})).catch((function(e){console.log(e),n.a.Message({message:"出错了！",type:"error"})}))},s=function(e,t){var a="";if(0==t.length)n.a.Notification.warning({title:"提示",message:"文件为空！"});else{if(1==t.length)a="/file/downloadPackage?projectCode="+e+"&fileIdList="+t[0];else if(t.length>1){a="/file/downloadPackage?projectCode="+e+"&fileIdList="+t[0];for(var r=1;r<t.length;r++)a=a+"&fileIdList="+t[r]}Object(o["a"])(a,{},"GET",{},"blob").then((function(e){if(void 0!=e.headers["content-disposition"]){n.a.Notification({title:"成功",message:"准备开始下载！",type:"success"});var t=decodeURI(e.headers["content-disposition"].split("fileName=")[1]);try{var a=new Blob([e.data],{type:"application/force-download"}),o=URL.createObjectURL(a),r=document.createElement("a");r.href=o,r.setAttribute("download",t),document.body.appendChild(r),r.click(),document.body.removeChild(r)}catch(l){console.log(l),n.a.Message({message:"数据请求失败！",type:"error"})}}else n.a.Message({message:"文件可能丢失了！",type:"error"})})).catch((function(e){console.log(e),n.a.Message({message:"出错了！",type:"error"})}))}};t["a"]={previewFile:l,downloadFiles:i,downloadFilePackage:s}},f28b:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.fullScreenloading,expression:"fullScreenloading"}],staticClass:"invoice_tax_Container"},[a("div",{staticClass:"head-btn"},[a("div",{staticClass:"Type"},[a("el-radio-group",{on:{change:e.type_change},model:{value:e.invoice_tax_type,callback:function(t){e.invoice_tax_type=t},expression:"invoice_tax_type"}},[a("el-radio-button",{attrs:{label:"可生成"}}),a("el-radio-button",{attrs:{label:"已生成"}})],1)],1),["已上传"].includes(e.invoice_tax_type)?a("div",{staticClass:"Search"}):e._e(),a("div",{staticClass:"newin_refresh"},[a("div",{staticClass:"refresh"},[a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.refresh}},[e._v("刷新列表 ")])],1)])]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticClass:"tablestyle",staticStyle:{width:"100%"},attrs:{id:"outTable",data:e.tableData,"tooltip-effect":"dark",border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"index",label:"序号",width:"70"}}),a("el-table-column",{attrs:{type:"expand",label:"详情",width:"55"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"专利号"}},[a("span",[e._v(e._s(t.row.zlh))])]),a("el-form-item",{attrs:{label:"专利名称"}},[a("span",[e._v(e._s(t.row.zlmc))])]),a("el-form-item",{attrs:{label:"专利第一作者姓名"}},[a("span",[e._v(e._s(t.row.zldyzzxm))])]),a("el-form-item",{attrs:{label:"专利第一作者工号"}},[a("span",[e._v(e._s(t.row.zldyzzgh))])]),a("el-form-item",{attrs:{label:"专利证书编号"}},[a("span",[e._v(e._s(t.row.certificateNumber))])]),a("el-form-item",{attrs:{label:"归属单位"}},[a("span",[e._v(e._s(t.row.gsdw))])]),a("el-form-item",{attrs:{label:"公示时间"}},[a("span",[e._v(e._s(t.row.publicNoticeTime))])]),a("el-form-item",{attrs:{label:"项目名称"}},[a("span",[e._v(e._s(t.row.projectName))])]),a("el-form-item",{attrs:{label:"项目编号"}},[a("span",[e._v(e._s(t.row.projectCode))])]),a("el-form-item",{attrs:{label:"合同类型"}},[a("span",[e._v(e._s(t.row.contractType))])]),a("el-form-item",{attrs:{label:"转让价格（万元）"}},[a("span",[e._v(e._s(t.row.patentPrice))])]),a("el-form-item",{attrs:{label:"提现方式"}},[a("span",[e._v(e._s(t.row.drawMoneyMethod))])])],1)]}}])}),a("el-table-column",{attrs:{prop:"projectName",label:"项目名称"}}),a("el-table-column",{attrs:{prop:"projectCode",label:"项目编号"}}),a("el-table-column",{attrs:{prop:"contractType",label:"合同类型"}}),a("el-table-column",{attrs:{prop:"setting",label:"操作",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"setting"},["可生成"==e.invoice_tax_type?a("el-button",{attrs:{icon:"el-icon-document"},on:{click:function(a){return e.get_tax(t.row)}}},[e._v(" 生成个人所得税备案表 ")]):e._e(),"已生成"==e.invoice_tax_type?a("el-button",{attrs:{icon:"el-icon-download"},on:{click:function(a){return e.download_tax(t.row)}}},[e._v(" 下载个人所得税备案表 ")]):e._e()],1)]}}])})],1),a("div",{staticClass:"PagesCurb"},[a("el-pagination",{staticClass:"pages",attrs:{currentPage:e.currentPage,"page-size":10,layout:"total, prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentPage}})],1)],1)},r=[],n=a("1da1"),l=a("5530"),i=(a("96cf"),a("ac1f"),a("1276"),a("2f62")),s=a("af2c"),c={data:function(){return{fullScreenloading:!0,tableData:[],loading:!0,invoice_tax_type:"可生成",total:0,currentPage:1,Page_url:"",download_row:{},file_type_Dialog:!1,upload_row:{},upload_content:{type:"",contractInfoId:""}}},created:function(){this.refresh()},methods:Object(l["a"])(Object(l["a"])({},Object(i["c"])(["get_files"])),{},{refresh:function(){var e=this;e.tableData=[],e.currentPage=1,console.log(this.$store.state);var t="/cwc/getTaxFilingFormPatentPage?currPage="+e.currentPage+"&size=20";e.Page_url=t,e.getContract(t)},getContract:function(e){var t=this,a=this;a.tableData=[],a.request(e,{},"GET",{}).then((function(e){if(console.log(e.data),a.loading=!1,"success"==e.data.status){a.total=e.data.data.total;for(var o=0;o<e.data.data.records.length;o++){var r={};r.index=o+1,r.accountingCreateDate=e.data.data.records[o].accountingCreateDate,r.certificateNumber=e.data.data.records[o].certificateNumber,r.contractFilingNo=e.data.data.records[o].contractFilingNo,r.contractType=e.data.data.records[o].contractType,r.drawMoneyMethod=e.data.data.records[o].drawMoneyMethod,r.gsdw=e.data.data.records[o].gsdw,r.patentPrice=e.data.data.records[o].patentPrice,r.projectCode=e.data.data.records[o].projectCode,r.projectName=e.data.data.records[o].projectName,r.publicNoticeTime=e.data.data.records[o].publicNoticeTime,r.taxFilingFormId=e.data.data.records[o].taxFilingFormId,r.transferApplicationFormId=e.data.data.records[o].transferApplicationFormId,r.zldyzzgh=e.data.data.records[o].zldyzzgh,r.zldyzzxm=e.data.data.records[o].zldyzzxm,r.zlh=e.data.data.records[o].zlh,r.zlmc=e.data.data.records[o].zlmc,a.tableData.push(r)}t.$message({message:"数据已更新！",type:"success"}),t.fullScreenloading=!1}else t.$message({message:e.data.data.errMsg,type:"error"})})).catch((function(e){console.log(e),a.loading=!1,t.$message({message:"出错了！",type:"error"})}))},handleCurrentPage:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var o,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=t,o.loading=!0,console.log(o.Page_url),r=o.Page_url.split("currPage")[0]+"currPage="+e+"&size"+o.Page_url.split("size")[1],console.log(r),o.tableData=[],o.currentPage=e,a.next=9,o.getContract(r);case 9:case"end":return a.stop()}}),a)})))()},type_change:function(e){console.log(e);var t=this;t.loading=!0,t.tableData=[];var a="";switch(e){case"可生成":a="/cwc/getTaxFilingFormPatentPage?currPage="+t.currentPage+"&size=20";break;case"已生成":a="/cwc/getTaxFilingFormNotNullPatentPage?currPage="+t.currentPage+"&size=20";break;default:break}t.Page_url=a,t.getContract(a)},get_tax:function(e){var t=this,a=this;a.fullScreenloading=!0,console.log(e);var o="/file/generateTaxFilingForm?transferApplicationFormId="+e.transferApplicationFormId;a.request(o,{},"GET",{}).then((function(e){console.log(e.data),a.fullScreenloading=!1,"success"==e.data.status?(t.$notify.success({title:"成功",message:"个人所得税备案表已生成，可前往已生成列表中下载！",duration:2e3}),t.fullScreenloading=!1):t.$message({message:e.data.data.errMsg,type:"error"})})).catch((function(e){console.log(e),a.loading=!1,t.$message({message:"出错了！",type:"error"})}))},download_tax:function(e){console.log(e);var t="/file/downloadFileById?fileId="+e.taxFilingFormId;s["a"].downloadFiles(t)}})},d=c,g=(a("3a48"),a("2877")),p=Object(g["a"])(d,o,r,!1,null,null,null);t["default"]=p.exports}}]);