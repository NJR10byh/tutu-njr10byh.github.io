(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28b07355"],{"1cb3":function(e,t,a){"use strict";a("76a5")},"76a5":function(e,t,a){},bc80:function(e,t,a){e.exports=a.p+"static/img/ava.edde3cb7.jpg"},e382:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"UserInfo"},[a("div",{staticClass:"Left"},[a("div",{staticClass:"MainInfo"},[e._m(0),a("div",{staticClass:"username"},[e._v(e._s(e.userinfo.username))]),a("div",{staticClass:"authorize"},[e._v(e._s(e.userinfo.authorize))])])]),a("div",{staticClass:"Right"},[a("div",{staticClass:"right_box"},[e._m(1),a("div",{staticClass:"Alert"},[a("el-button",{attrs:{icon:"el-icon-edit-outline"},on:{click:function(t){return e.Alert()}}},[e._v("修改信息")])],1),a("div",{staticClass:"InfoDetail"},[a("div",{staticClass:"Part_1"},[a("div",{staticClass:"part1_1"},[a("div",{staticClass:"Info_Menu"},[e._v("姓名")]),a("div",{staticClass:"Info_Answer"},[a("span",[e._v(e._s(e.userinfo.name))])])]),a("div",{staticClass:"part1_1 part1_2"},[a("div",{staticClass:"Info_Menu"},[e._v("工号 / 学号")]),a("div",{staticClass:"Info_Answer"},[a("span",[e._v(e._s(e.userinfo.number))])])])]),a("div",{staticClass:"Part_1"},[a("div",{staticClass:"part1_1"},[a("div",{staticClass:"Info_Menu"},[e._v("联系方式：")]),a("div",{staticClass:"Info_Answer"},[a("span",[e._v(e._s(e.userinfo.tel))])])]),a("div",{staticClass:"part1_1 part1_2"},[a("div",{staticClass:"Info_Menu"},[e._v("电子邮件：")]),a("div",{staticClass:"Info_Answer"},[a("span",[e._v(e._s(e.userinfo.email))])])])]),a("div",{staticClass:"Part_1"},[a("div",{staticClass:"part1_1"},[a("div",{staticClass:"Info_Menu"},[e._v("权限有效期")]),a("div",{staticClass:"Info_Answer"},[a("span",[e._v(e._s(e.userinfo.deadline))])])]),"系统管理员"==e.userinfo.authorize?a("div",{staticClass:"part1_1 part1_2 Manage",on:{click:function(t){return e.Manager()}}},[a("div",{staticClass:"Info_Menu"},[e._v("管理用户")])]):e._e()])])])]),a("el-dialog",{staticClass:"Alertdialog",attrs:{title:"修改信息",visible:e.AlertdialogVisible,width:"30%"},on:{"update:visible":function(t){e.AlertdialogVisible=t}}},[a("div",[a("span",[e._v("用户名：")]),a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.willput.username,callback:function(t){e.$set(e.willput,"username",t)},expression:"willput.username"}})],1),a("div",[a("span",[e._v("姓名：")]),a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.willput.name,callback:function(t){e.$set(e.willput,"name",t)},expression:"willput.name"}})],1),a("div",[a("span",[e._v("工号 / 学号：")]),a("el-input",{attrs:{placeholder:"请输入工号 / 学号"},model:{value:e.willput.number,callback:function(t){e.$set(e.willput,"number",t)},expression:"willput.number"}})],1),a("div",[a("span",[e._v("联系方式：")]),a("el-input",{attrs:{placeholder:"请输入联系方式"},model:{value:e.willput.tel,callback:function(t){e.$set(e.willput,"tel",t)},expression:"willput.tel"}})],1),a("div",[a("span",[e._v("电子邮件：")]),a("el-input",{attrs:{placeholder:"请输入电子邮件"},model:{value:e.willput.email,callback:function(t){e.$set(e.willput,"email",t)},expression:"willput.email"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.AlertdialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.AlertConfirm()}}},[e._v("保 存")])],1)])],1)},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"Ava"},[i("img",{attrs:{src:a("bc80"),alt:""}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("div",{staticClass:"top"},[e._v("用户信息")]),a("div",{staticClass:"below"},[e._v(" 管理你的个人信息，其中包括可以联系到您的电话号码和电子邮件地址 ")])])}],n=a("1da1"),l=(a("96cf"),a("b0c0"),{data:function(){return{userinfo:{id:0,username:"",authorize:"",name:"",number:"",tel:"",email:"",deadline:""},putid:"",willput:{username:"",authorize:"",name:"",number:"",tel:"",email:"",deadline:""},AlertdialogVisible:!1}},created:function(){this.refresh()},methods:{refresh:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,a.tableData=[],a.total=0,t.next=5,a.request("Signed",{},"GET",{}).then((function(e){a.userinfo.id=e.data[0].id}));case 5:return i="Sign/"+a.userinfo.id,t.next=8,a.request(i,{},"GET",{}).then((function(t){switch(a.userinfo.username=t.data.username,a.userinfo.name=t.data.name,a.userinfo.number=t.data.number,a.userinfo.tel=t.data.tel,a.userinfo.email=t.data.email,a.userinfo.deadline=t.data.deadline,console.log(t.data.authorize),t.data.authorize){case"system":a.userinfo.authorize="系统管理员";break;case"book":a.userinfo.authorize="图书管理员";break;case"reader":a.userinfo.authorize="读者";break;default:break}e.$message({message:"数据已更新",type:"success"})})).catch((function(){e.$message({message:"数据请求失败",type:"error"})}));case 8:case"end":return t.stop()}}),t)})))()},Alert:function(){var e=this;e.AlertdialogVisible=!0,e.willput.username=e.userinfo.username,e.willput.name=e.userinfo.name,e.willput.number=e.userinfo.number,e.willput.tel=e.userinfo.tel,e.willput.email=e.userinfo.email},AlertConfirm:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,a.willput.authorize=a.userinfo.authorize,a.willput.deadline=a.userinfo.deadline,i="Sign/"+a.userinfo.id,t.next=6,a.request(i,a.willput,"PUT",{});case 6:a.AlertdialogVisible=!1,a.refresh();case 8:case"end":return t.stop()}}),t)})))()},Manager:function(){this.$router.push({path:"/userlist"})}}}),r=l,u=(a("1cb3"),a("2877")),o=Object(u["a"])(r,i,s,!1,null,null,null);t["default"]=o.exports}}]);