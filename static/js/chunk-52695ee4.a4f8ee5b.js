(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52695ee4"],{"2be3":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[["root","superadmin","admin"].includes(this.$store.state.signed_authorize)?a("div",{staticClass:"wait_zldyzz_exam_Container"},[a("t-table",{staticClass:"t_table_style",attrs:{"row-key":"id",columns:e.columns,data:e.tableData,"expanded-row-keys":e.expandedRowKeys,"expanded-row":e.expandedRow,expandOnRowClick:!0,expandIcon:!1,"table-layout":"auto",stripe:"",hover:"",bordered:"",allowResizeColumnWidth:"",loading:e.tableLoading},on:{"expand-change":e.rehandleExpandChange},scopedSlots:e._u([{key:"projectCode",fn:function(t){var r=t.row;return[a("a",{staticClass:"link",attrs:{href:"#"}},[e._v(e._s(r.projectCode))])]}},{key:"settings",fn:function(t){return[a("div",{staticClass:"settings_buttons"},[a("t-button",{attrs:{variant:"outline",theme:"primary"},on:{click:function(a){return e.getPatent_opreate(t.row)}}},[a("t-icon",{attrs:{name:"file"}}),e._v(" 查看审批表 ")],1),a("t-button",{attrs:{variant:"base",theme:"success"},on:{click:function(a){return e.Pass(t.row)}}},[a("t-icon",{attrs:{name:"check-circle"}}),e._v(" 通过 ")],1),a("t-button",{attrs:{variant:"base",theme:"danger"},on:{click:function(a){return e.Failed(t.row)}}},[a("t-icon",{attrs:{name:"close-circle"}}),e._v(" 不通过 ")],1)],1)]}}],null,!1,3447127231)}),a("div",{staticClass:"PagesCurb"},[a("el-pagination",{staticClass:"pages",attrs:{currentPage:e.currentPage,"page-size":20,layout:"total, prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentPage}})],1)],1):a("div",[a("el-empty",{attrs:{description:"无权限"}},[a("t-button",{attrs:{theme:"primary",size:"large"},on:{click:e.RoleLow_back}},[e._v(" 返回 ")])],1)],1)])},o=[],s=a("1da1"),n=(a("96cf"),a("caad"),a("ac1f"),a("1276"),a("af2c"),a("4ec3"),a("5f87")),i={data:function(){this.$createElement;return{columns_select:[{colKey:"row-select",type:"multiple",width:50},{colKey:"id",title:"序号"},{colKey:"zlmc",title:"专利名称"},{colKey:"paName",title:"受让方单位"},{colKey:"state",title:"转化状态"},{colKey:"settings",title:"操作"}],columns:[{colKey:"id",title:"序号"},{colKey:"zlmc",title:"专利名称"},{colKey:"paName",title:"受让方单位"},{colKey:"state",title:"转化状态"},{colKey:"settings",title:"操作"}],expandedRowKeys:[],expandedRow:function(e,t){var a=t.row;return e("div",[e("b",{style:"color:#99a9bf;"},["专利号:"]),e("span",{style:"margin-left:10px;"},[a.zlh]),e("br"),e("br"),e("b",{style:"color:#99a9bf"},["授权编号:"]),e("span",{style:"margin-left:10px;"},[a.sqbh]),e("br"),e("br"),e("b",{style:"color:#99a9bf"},["专利第一作者姓名:"]),e("span",{style:"margin-left:10px;"},[a.zldyzzxm]),e("br"),e("br"),e("b",{style:"color:#99a9bf"},["专利第一作者工号:"]),e("span",{style:"margin-left:10px;"},[a.zldyzzgh]),e("br"),e("br"),e("b",{style:"color:#99a9bf"},["立项编号:"]),e("span",{style:"margin-left:10px;"},[a.projectCode]),e("br"),e("br"),e("b",{style:"color:#99a9bf"},["归属单位:"]),e("span",{style:"margin-left:10px;"},[a.gsdw]),e("br"),e("br"),e("b",{style:"color:#99a9bf"},["所有权人:"]),e("span",{style:"margin-left:10px;"},[a.zlqr]),e("br"),e("br"),e("b",{style:"color:#99a9bf"},["转换状态:"]),e("span",{style:"margin-left:10px;"},[a.state]),e("br"),e("br"),e("b",{style:"color:#99a9bf"},["专利代理人:"]),e("span",{style:"margin-left:10px;"},[a.zldlr]),e("br"),e("br"),e("b",{style:"color:#99a9bf"},["最后更新时间:"]),e("span",{style:"margin-left:10px;"},[a.gmtUpdate])])},tableData:[],tableLoading:!0,total:0,currentPage:1,Page_url:""}},mounted:function(){Object(n["a"])()},created:function(){var e=this;setTimeout((function(){console.log(e.$store.state.signed_authorize),["root","superadmin","admin"].includes(e.$store.state.signed_authorize)?e.refresh():e.$message.warning("权限不足！")}),300)},methods:{RoleLow_back:function(){window.history.back()},refresh:function(){var e=this;e.tableLoading=!0,e.tableData=[],e.currentPage=1,console.log(this.$store.state);var t="/cxy/getZLDYZZConfirmPage?currPage=1&size=20";e.Page_url=t,e.getExam(t)},getExam:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t,a.next=3,r.request(e,{},"GET",{}).then((function(e){if(console.log(e.data),r.tableLoading=!1,"success"==e.data.status){r.total=e.data.data.total;for(var a=0;a<e.data.data.records.length;a++){var o={};o.id=a+1,o.wid=e.data.data.records[a].wid,o.sqbh=e.data.data.records[a].sqbh,o.zlmc=e.data.data.records[a].zlmc,o.zlh=e.data.data.records[a].zlh,o.zlqr=e.data.data.records[a].zlqr,o.gsdw=e.data.data.records[a].gsdw,o.pzrq=e.data.data.records[a].pzrq,o.zldlr=e.data.data.records[a].zldlr,o.zldyzzgh=e.data.data.records[a].zldyzzgh,o.zldyzzxm=e.data.data.records[a].zldyzzxm,o.zlh=e.data.data.records[a].zlh,o.zlmc=e.data.data.records[a].zlmc,o.paName=e.data.data.records[a].paName,o.transferApplicationFormId=e.data.data.records[a].transferApplicationFormId,o.gmtUpdate=e.data.data.records[a].gmtUpdate,null==e.data.data.records[a].transferProcessId?o.state="未转换":(o.transferProcessId=e.data.data.records[a].transferProcessId,e.data.data.records[a].isWithdraw?o.state="审批表已撤回":e.data.data.records[a].isZldyzzConfirm?e.data.data.records[a].isZldyzzApproval?e.data.data.records[a].isDepartmentConfirm?e.data.data.records[a].isDepartmentApproval?e.data.data.records[a].isComplete?o.state="已转换":e.data.data.records[a].isCxyConfirm?e.data.data.records[a].isCxyApproval?null==e.data.data.records[a].contractInfoId?o.state="等待产学研创建合同":e.data.data.records[a].isPublicNotice?r.TimeDiffer(e.data.data.records[a].publicNoticeTime)?0==e.data.data.records[a].voucherNum?o.state="等待上传到款凭证":null==e.data.data.records[a].checklistId?o.state="等待上传认定清单（备案）":null==e.data.data.records[a].accountingInfoId?o.state="等待生成入账通知单":null==e.data.data.records[a].invoiceId?o.state="等待财务处上传发票":e.data.data.records[a].hasCashReward&&!e.data.data.records[a].isCashRewardPublicNotice?o.state="等待现金奖励公示":e.data.data.records[a].isComplete||(o.state="等待流程结束"):o.state="正在公示中":o.state="等待公示":o.state="产学研未通过":o.state="等待产学研审批":o.state="归属单位未通过":o.state="等待上传所属部门意见":o.state="第一作者未通过":o.state="等待第一作者确认"),r.tableData.push(o)}t.$message.success("数据已更新！")}else t.$message.error(e.data.data.errMsg)})).catch((function(e){console.log(e),r.tableLoading=!1,t.$message.error("出错了！")}));case 3:case"end":return a.stop()}}),a)})))()},rehandleExpandChange:function(e){this.expandedRowKeys=e},handleCurrentPage:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t,r.tableLoading=!0,console.log(r.Page_url),o=r.Page_url.split("currPage")[0]+"currPage="+e+"&size"+r.Page_url.split("size")[1],console.log(o),r.tableData=[],r.currentPage=e,a.next=9,r.getExam(o);case 9:case"end":return a.stop()}}),a)})))()},TimeTransfer:function(e){var t=new Date(e),a=t.getFullYear(),r=t.getMonth()+1,o=t.getDate(),s=t.getHours(),n=t.getMinutes(),i=t.getSeconds(),c=a+"-";return r<10&&(c+="0"),c+=r+"-",o<10&&(c+="0"),c+=o+" ",s<10&&(c+="0"),c+=s+":",n<10&&(c+="0"),c+=n+":",i<10&&(c+="0"),c+=i,c},TimeDiffer:function(e){var t=this.TimeTransfer(e),a=new Date,r=new Date(t),o=(a-r)/1e3,s=parseInt(o/86400);parseInt(o/3600),parseInt(o%3600/60),parseInt(o%60);return!0},getPatent_opreate:function(e){window.event.cancelBubble=!0,console.log(e),this.$router.push({path:"/exam_detail_pc",query:{wid:e.wid,type:"examing_opreate"}})},Pass:function(e){var t=this;window.event.cancelBubble=!0,console.log(e);var a=this;this.$confirm("确认通过吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var r="/process/approvalTransferApplicationByCXY?transferApplicationFormId="+e.transferApplicationFormId;a.request(r,{},"GET",{}).then((function(e){console.log(e),"success"==e.data.status?(t.$message.success("已通过！"),a.refresh()):t.$message.error(e.data.data.errMsg)})).catch((function(e){console.log(e),t.$message.error("出错了！")}))})).catch((function(){t.$message.info("已取消操作！")}))},Failed:function(e){var t=this;window.event.cancelBubble=!0;var a=this;this.$prompt("请填写拒绝原因","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(r){if(console.log(r.value),null==r.value||""==r.value)t.$message({type:"warning",message:"拒绝原因不能为空！"});else{var o="/process/notApprovalTransferApplicationByCXY?remarks="+r.value+"&transferApplicationFormId="+e.transferApplicationFormId;a.request(o,{},"GET",{}).then((function(e){console.log(e.data),"success"==e.data.status?(t.$message.success("已拒绝！"),a.refresh()):t.$message.error(e.data.data.errMsg)})).catch((function(e){console.log(e),t.$message.error("出错了！")}))}})).catch((function(e){console.log(e),t.$message.info("已取消操作！")}))}}},c=i,l=(a("5472"),a("2877")),d=Object(l["a"])(c,r,o,!1,null,null,null);t["default"]=d.exports},5472:function(e,t,a){"use strict";a("b77b")},af2c:function(e,t,a){"use strict";a("ac1f"),a("1276"),a("caad"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d");var r=a("4ec3"),o=a("5c96"),s=a.n(o),n=function(e){var t="/file/downloadFileById?fileId="+e;Object(r["a"])(t,{},"GET",{},"arraybuffer").then((function(e){if(console.log(e),void 0==e.headers["content-disposition"])s.a.Notification({title:"错误",message:"文件可能丢失了！",type:"error"});else{var t="",a=e.headers["content-disposition"].split("fileName=")[1].split(".").length,r=e.headers["content-disposition"].split("fileName=")[1].split(".")[a-1];if(["pdf","png","jpg","jpeg"].includes(r)){switch(r){case"pdf":t="application/pdf";break;case"png":t="image/png";break;case"jpg":t="image/jpeg";break;case"jpeg":t="image/jpeg";break}var o=e.data,n=decodeURI(e.headers["content-disposition"].split("fileName=")[1]);if(window.navigator&&window.navigator.msSaveOrOpenBlob){var i=new Blob([o],{type:t});console.log(n),window.navigator.msSaveOrOpenBlob(i,n)}else{var c=new Blob([o],{type:t}),l=window.URL.createObjectURL(c);console.log(l),window.open(l)}}else s.a.Notification({title:"提示",message:"该文件类型暂不支持在线预览，请下载后查看！",type:"warning"})}})).catch((function(e){console.log(e),s.a.Message({message:"出错了！",type:"error"})}))},i=function(e){Object(r["a"])(e,{},"GET",{},"blob").then((function(t){if(console.log(t),void 0!=t.headers["content-disposition"]){s.a.Notification({title:"成功",message:"准备开始下载！",type:"success"});var a=decodeURI(t.headers["content-disposition"].split("fileName=")[1]);try{var o=new Blob([t.data],{type:"application/force-download"}),n=URL.createObjectURL(o),i=document.createElement("a");i.href=n,i.setAttribute("download",a),document.body.appendChild(i),i.click(),document.body.removeChild(i)}catch(c){console.log(c),s.a.Message({message:"数据请求失败！",type:"error"})}}else Object(r["a"])(e,{},"GET",{}).then((function(e){s.a.Message({message:e.data.data.errMsg,type:"error"})}))})).catch((function(e){console.log(e),s.a.Message({message:"出错了！",type:"error"})}))},c=function(e,t){var a="";if(0==t.length)s.a.Notification.warning({title:"提示",message:"文件为空！"});else{if(1==t.length)a="/file/downloadPackage?projectCode="+e+"&fileIdList="+t[0];else if(t.length>1){a="/file/downloadPackage?projectCode="+e+"&fileIdList="+t[0];for(var o=1;o<t.length;o++)a=a+"&fileIdList="+t[o]}Object(r["a"])(a,{},"GET",{},"blob").then((function(e){if(void 0!=e.headers["content-disposition"]){s.a.Notification({title:"成功",message:"准备开始下载！",type:"success"});var t=decodeURI(e.headers["content-disposition"].split("fileName=")[1]);try{var a=new Blob([e.data],{type:"application/force-download"}),r=URL.createObjectURL(a),o=document.createElement("a");o.href=r,o.setAttribute("download",t),document.body.appendChild(o),o.click(),document.body.removeChild(o)}catch(n){console.log(n),s.a.Message({message:"数据请求失败！",type:"error"})}}else s.a.Message({message:"文件可能丢失了！",type:"error"})})).catch((function(e){console.log(e),s.a.Message({message:"出错了！",type:"error"})}))}};t["a"]={previewFile:n,downloadFiles:i,downloadFilePackage:c}},b77b:function(e,t,a){}}]);