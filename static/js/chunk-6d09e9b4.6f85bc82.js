(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d09e9b4"],{"2a79":function(e,t,i){e.exports=i.p+"static/img/file_pdf.1bf2177c.png"},3736:function(e,t,i){"use strict";i("ac1f"),i("1276"),i("d3b7"),i("3ca3"),i("ddb0"),i("2b3d");var a=i("4ec3"),o=i("5c96"),s=i.n(o),n=function(e){var t="/file/downloadFileById?fileId="+e;Object(a["a"])(t,{},"GET",{},"arraybuffer").then((function(e){console.log(e);var t="",i=e.headers["content-disposition"].split("fileName=")[1].split(".").length,a=e.headers["content-disposition"].split("fileName=")[1].split(".")[i-1];switch(a){case"pdf":t="application/pdf";break;case"png":t="image/png";break;case"jpg":t="image/jpeg";break;case"jpeg":t="image/jpeg";break}var o=e.data,s=decodeURI(e.headers["content-disposition"].split("fileName=")[1]);if(window.navigator&&window.navigator.msSaveOrOpenBlob){var n=new Blob([o],{type:t});console.log(s),window.navigator.msSaveOrOpenBlob(n,s)}else{var l=new Blob([o],{type:t}),c=window.URL.createObjectURL(l);console.log(c),window.open(c)}})).catch((function(e){console.log(e),s.a.Message({message:"出错了！",type:"error"})}))},l=function(e){var t=this,i="/file/downloadFileById?fileId="+e.fileId;t.request(i,{},"GET",{},"blob").then((function(e){if(void 0!=e.headers["content-disposition"]){s.a.Notification({title:"成功",message:"准备开始下载！",type:"success"});var t=decodeURI(e.headers["content-disposition"].split("fileName=")[1]);try{var i=new Blob([e.data],{type:"application/force-download"}),a=URL.createObjectURL(i),o=document.createElement("a");o.href=a,o.setAttribute("download",t),document.body.appendChild(o),o.click(),document.body.removeChild(o)}catch(n){console.log(n),s.a.Message({message:"数据请求失败！",type:"error"})}}else s.a.Message({message:"文件可能丢失了！",type:"error"})})).catch((function(e){console.log(e),s.a.Message({message:"出错了！",type:"error"})}))},c=function(e,t){var i="";if(0==t.length)s.a.Notification.warning({title:"提示",message:"文件为空！"});else{if(1==t.length)i="/file/downloadPackage?projectCode="+e+"&fileIdList="+t[0];else if(t.length>1){i="/file/downloadPackage?projectCode="+e+"&fileIdList="+t[0];for(var o=1;o<t.length;o++)i=i+"&fileIdList="+t[o]}Object(a["a"])(i,{},"GET",{},"blob").then((function(e){if(void 0!=e.headers["content-disposition"]){s.a.Notification({title:"成功",message:"准备开始下载！",type:"success"});var t=decodeURI(e.headers["content-disposition"].split("fileName=")[1]);try{var i=new Blob([e.data],{type:"application/force-download"}),a=URL.createObjectURL(i),o=document.createElement("a");o.href=a,o.setAttribute("download",t),document.body.appendChild(o),o.click(),document.body.removeChild(o)}catch(n){console.log(n),s.a.Message({message:"数据请求失败！",type:"error"})}}else s.a.Message({message:"文件可能丢失了！",type:"error"})})).catch((function(e){console.log(e),s.a.Message({message:"出错了！",type:"error"})}))}};t["a"]={previewFile:n,downloadFiles:l,downloadFilePackage:c}},9065:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Files_Patents_Detail_Container"},[a("div",{staticClass:"top_buttons"},[e.multipleSelection.length>0?a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{icon:"el-icon-download"},on:{click:e.List_download}},[e._v(" 打包下载 ")]):e._e()],1),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"file_name",label:"文件名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"filebox"},[a("img",{attrs:{src:i("2a79")}}),a("a",{on:{click:function(i){return e.downloadFiles(t.row)}}},[e._v(e._s(t.row.file_name))])])]}}])}),a("el-table-column",{attrs:{prop:"fixtime",label:"修改时间"}}),a("el-table-column",{attrs:{prop:"setting",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"setting"},[a("el-button",{attrs:{icon:"el-icon-data-board",type:"text"},on:{click:function(i){return e.pdf_preview(t.row)}}},[e._v(" 预览 ")])],1)]}}])})],1)],1)},o=[],s=i("5530"),n=(i("ac1f"),i("1276"),i("d3b7"),i("3ca3"),i("ddb0"),i("2b3d"),i("2f62")),l=i("3736"),c={data:function(){return{tableData:[],loading:!0,multipleSelection:[],projectCode:this.$store.state.contract_files.projectCode}},created:function(){if(console.log(this.$route.query),null!=this.$store.state.contract_files.patentList[this.$route.query.index].certificate){var e={};e.file_name=this.$store.state.contract_files.patentList[this.$route.query.index].certificate.fileDisplayName,e.fixtime=this.$store.state.contract_files.patentList[this.$route.query.index].certificate.gmtCreate,e.fileId=this.$store.state.contract_files.patentList[this.$route.query.index].certificate.fileId,this.tableData.push(e)}if(null!=this.$store.state.contract_files.patentList[this.$route.query.index].oa){var t={};t.file_name=this.$store.state.contract_files.patentList[this.$route.query.index].oa.fileDisplayName,t.fixtime=this.$store.state.contract_files.patentList[this.$route.query.index].oa.gmtCreate,t.fileId=this.$store.state.contract_files.patentList[this.$route.query.index].oa.fileId,this.tableData.push(t)}if(null!=this.$store.state.contract_files.patentList[this.$route.query.index].tax){var i={};i.file_name=this.$store.state.contract_files.patentList[this.$route.query.index].tax.fileDisplayName,i.fixtime=this.$store.state.contract_files.patentList[this.$route.query.index].tax.gmtCreate,i.fileId=this.$store.state.contract_files.patentList[this.$route.query.index].tax.fileId,this.tableData.push(i)}},methods:Object(s["a"])(Object(s["a"])({},Object(n["c"])(["get_files"])),{},{handleSelectionChange:function(e){this.multipleSelection=e},downloadFiles:function(e){var t=this,i=this,a="/file/downloadFileById?fileId="+e.fileId;i.request(a,{},"GET",{},"blob").then((function(e){if(void 0!=e.headers["content-disposition"]){t.$notify({title:"成功",message:"准备开始下载！",type:"success"});var i=decodeURI(e.headers["content-disposition"].split("fileName=")[1]);try{var a=new Blob([e.data],{type:"application/force-download"}),o=URL.createObjectURL(a),s=document.createElement("a");s.href=o,s.setAttribute("download",i),document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(n){console.log(n),t.$message({message:"数据请求失败！",type:"error"})}}else t.$message({message:"文件可能丢失了！",type:"error"})})).catch((function(e){console.log(e),t.$message({message:"出错了！",type:"error"})}))},List_download:function(){var e=[];console.log(this.multipleSelection);for(var t=0;t<this.multipleSelection.length;t++)e.push(this.multipleSelection[t].fileId);l["a"].downloadFilePackage(this.projectCode,e)},pdf_preview:function(e){console.log(e),l["a"].previewFile(e.fileId)}})},r=c,d=(i("fa15"),i("2877")),f=Object(d["a"])(r,a,o,!1,null,null,null);t["default"]=f.exports},b659:function(e,t,i){},fa15:function(e,t,i){"use strict";i("b659")}}]);