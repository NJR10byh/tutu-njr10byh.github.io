(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7861302a"],{1276:function(t,e,a){"use strict";var r=a("d784"),n=a("44e7"),s=a("825a"),o=a("1d80"),i=a("4840"),c=a("8aa5"),l=a("50c4"),d=a("14c3"),u=a("9263"),p=a("d039"),h=[].push,g=Math.min,f=4294967295,m=!p((function(){return!RegExp(f,"y")}));r("split",2,(function(t,e,a){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var r=String(o(this)),s=void 0===a?f:a>>>0;if(0===s)return[];if(void 0===t)return[r];if(!n(t))return e.call(r,t,s);var i,c,l,d=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),g=0,m=new RegExp(t.source,p+"g");while(i=u.call(m,r)){if(c=m.lastIndex,c>g&&(d.push(r.slice(g,i.index)),i.length>1&&i.index<r.length&&h.apply(d,i.slice(1)),l=i[0].length,g=c,d.length>=s))break;m.lastIndex===i.index&&m.lastIndex++}return g===r.length?!l&&m.test("")||d.push(""):d.push(r.slice(g)),d.length>s?d.slice(0,s):d}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,a){var n=o(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,n,a):r.call(String(n),e,a)},function(t,n){var o=a(r,t,this,n,r!==e);if(o.done)return o.value;var u=s(t),p=String(this),h=i(u,RegExp),y=u.unicode,x=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(m?"y":"g"),v=new h(m?u:"^(?:"+u.source+")",x),b=void 0===n?f:n>>>0;if(0===b)return[];if(0===p.length)return null===d(v,p)?[p]:[];var _=0,w=0,T=[];while(w<p.length){v.lastIndex=m?w:0;var z,C=d(v,m?p:p.slice(w));if(null===C||(z=g(l(v.lastIndex+(m?0:w)),p.length))===_)w=c(p,w,y);else{if(T.push(p.slice(_,w)),T.length===b)return T;for(var S=1;S<=C.length-1;S++)if(T.push(C[S]),T.length===b)return T;w=_=z}}return T.push(p.slice(_)),T}]}),!m)},"14c3":function(t,e,a){var r=a("c6b6"),n=a("9263");t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var s=a.call(t,e);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},"8aa5":function(t,e,a){"use strict";var r=a("6547").charAt;t.exports=function(t,e,a){return e+(a?r(t,e).length:1)}},9263:function(t,e,a){"use strict";var r=a("ad6d"),n=a("9f7f"),s=RegExp.prototype.exec,o=String.prototype.replace,i=s,c=function(){var t=/a/,e=/b*/g;return s.call(t,"a"),s.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=n.UNSUPPORTED_Y||n.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],u=c||d||l;u&&(i=function(t){var e,a,n,i,u=this,p=l&&u.sticky,h=r.call(u),g=u.source,f=0,m=t;return p&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),m=String(t).slice(u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==t[u.lastIndex-1])&&(g="(?: "+g+")",m=" "+m,f++),a=new RegExp("^(?:"+g+")",h)),d&&(a=new RegExp("^"+g+"$(?!\\s)",h)),c&&(e=u.lastIndex),n=s.call(p?a:u,m),p?n?(n.input=n.input.slice(f),n[0]=n[0].slice(f),n.index=u.lastIndex,u.lastIndex+=n[0].length):u.lastIndex=0:c&&n&&(u.lastIndex=u.global?n.index+n[0].length:e),d&&n&&n.length>1&&o.call(n[0],a,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n}),t.exports=i},9547:function(t,e,a){},"9f7f":function(t,e,a){"use strict";var r=a("d039");function n(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=n("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=n("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ac1f:function(t,e,a){"use strict";var r=a("23e7"),n=a("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(t,e,a){"use strict";var r=a("825a");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},d784:function(t,e,a){"use strict";a("ac1f");var r=a("6eeb"),n=a("d039"),s=a("b622"),o=a("9263"),i=a("9112"),c=s("species"),l=!n((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),u=s("replace"),p=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),h=!n((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));t.exports=function(t,e,a,u){var g=s(t),f=!n((function(){var e={};return e[g]=function(){return 7},7!=""[t](e)})),m=f&&!n((function(){var e=!1,a=/a/;return"split"===t&&(a={},a.constructor={},a.constructor[c]=function(){return a},a.flags="",a[g]=/./[g]),a.exec=function(){return e=!0,null},a[g](""),!e}));if(!f||!m||"replace"===t&&(!l||!d||p)||"split"===t&&!h){var y=/./[g],x=a(g,""[t],(function(t,e,a,r,n){return e.exec===o?f&&!n?{done:!0,value:y.call(e,a,r)}:{done:!0,value:t.call(a,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),v=x[0],b=x[1];r(String.prototype,t,v),r(RegExp.prototype,g,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}u&&i(RegExp.prototype[g],"sham",!0)}},eee8:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Examing_Licence_Container"},[a("div",{staticClass:"head_btn"},[a("div",{staticClass:"Type"},[a("el-radio-group",{on:{change:t.type_change},model:{value:t.exam_type,callback:function(e){t.exam_type=e},expression:"exam_type"}},[a("el-radio-button",{attrs:{label:"待审批"}}),a("el-radio-button",{attrs:{label:"未通过"}}),a("el-radio-button",{attrs:{label:"已通过"}}),a("el-radio-button",{attrs:{label:"正在转换"}}),a("el-radio-button",{attrs:{label:"已转换"}})],1)],1),["待审批","正在转换","已转换"].includes(t.exam_type)?a("div",{staticClass:"Search"},[a("el-dropdown",{staticClass:"Dropdown",on:{command:t.handleDropdown}},[a("el-button",{attrs:{type:"primary"}},[t._v(" "+t._s(t.SearchType_prepend)+" "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"专利名称"}},[t._v("专利名称")]),a("el-dropdown-item",{attrs:{command:"专利第一作者"}},[t._v(" 专利第一作者 ")]),a("el-dropdown-item",{attrs:{command:"成员名单"}},[t._v("成员名单")]),a("el-dropdown-item",{attrs:{command:"所属学院"}},[t._v("所属学院")])],1)],1),a("el-input",{attrs:{placeholder:"请输入需要查询的内容"},model:{value:t.SearchText,callback:function(e){t.SearchText=e},expression:"SearchText"}}),a("el-button",{attrs:{icon:"el-icon-search"},on:{click:t.search}},[t._v("搜索")])],1):t._e(),"已通过"==t.exam_type?a("div",{staticClass:"newin_refresh"},[a("div",{staticClass:"refresh"},[a("t-button",{attrs:{variant:"outline",theme:"warning",size:"medium"},on:{click:t.addContract}},[a("t-icon",{attrs:{name:"add"}}),t._v(" 创建合同 ")],1)],1)]):t._e()]),a("t-table",{staticClass:"t_table_style",attrs:{"row-key":"id",columns:"已通过"==t.exam_type?t.columns_select:t.columns,data:t.tableData,"expanded-row-keys":t.expandedRowKeys,"expanded-row":t.expandedRow,expandOnRowClick:!0,expandIcon:!1,"table-layout":"auto",stripe:"",hover:"",bordered:"",allowResizeColumnWidth:"",loading:t.tableLoading},on:{"expand-change":t.rehandleExpandChange,"select-change":t.rehandleSelectChange},scopedSlots:t._u([{key:"projectCode",fn:function(e){var r=e.row;return[a("a",{staticClass:"link",attrs:{href:"#"}},[t._v(t._s(r.projectCode))])]}},{key:"settings",fn:function(e){return[a("div",{staticClass:"settings_buttons"},[["已通过","正在转换","已转换"].includes(t.exam_type)?a("t-button",{attrs:{variant:"outline",theme:"primary"},on:{click:function(a){return t.getPatent(e.row)}}},[a("t-icon",{attrs:{name:"file"}}),t._v(" 查看审批表 ")],1):t._e(),["待审批","未通过"].includes(t.exam_type)?a("t-button",{attrs:{variant:"outline",theme:"primary"},on:{click:function(a){return t.getPatent_opreate(e.row)}}},[a("t-icon",{attrs:{name:"file"}}),t._v(" 查看审批表 ")],1):t._e(),["等待产学研审批","产学研未通过"].includes(e.row.state)?a("t-button",{attrs:{variant:"outline",theme:"success"},on:{click:function(a){return t.Pass(e.row)}}},[a("t-icon",{attrs:{name:"check-circle"}}),t._v(" 通过 ")],1):t._e(),"等待产学研审批"==e.row.state?a("t-button",{attrs:{variant:"outline",theme:"danger"},on:{click:function(a){return t.Failed(e.row)}}},[a("t-icon",{attrs:{name:"close-circle"}}),t._v(" 不通过 ")],1):t._e(),"已通过"==t.exam_type&&-1!=t.choosed_patents.indexOf(e.row.wid)?a("el-radio",{staticStyle:{"margin-left":"10px"},attrs:{label:e.row.wid},nativeOn:{click:function(a){return a.preventDefault(),t.radio_cancelChoose(e.row.wid)}},model:{value:t.top_patent,callback:function(e){t.top_patent=e},expression:"top_patent"}},[t._v("置顶 ")]):t._e()],1)]}}])}),"已通过"!=t.exam_type?a("div",{staticClass:"PagesCurb"},[a("el-pagination",{staticClass:"pages",attrs:{currentPage:t.currentPage,"page-size":20,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentPage}})],1):t._e()],1)},n=[],s=(a("ac1f"),a("1276"),{data:function(){this.$createElement;return{columns_select:[{colKey:"row-select",type:"multiple",width:50},{colKey:"id",title:"序号"},{colKey:"zlmc",title:"专利名称"},{colKey:"paName",title:"受让方单位"},{colKey:"state",title:"转化状态"},{colKey:"settings",title:"操作"}],columns:[{colKey:"id",title:"序号"},{colKey:"zlmc",title:"专利名称"},{colKey:"paName",title:"受让方单位"},{colKey:"state",title:"转化状态"},{colKey:"settings",title:"操作"}],expandedRowKeys:[],expandedRow:function(t,e){var a=e.row;return t("div",[t("b",{style:"color:#99a9bf;"},["专利号:"]),t("span",{style:"margin-left:10px;"},[a.zlh]),t("br"),t("br"),t("b",{style:"color:#99a9bf"},["专利第一作者姓名:"]),t("span",{style:"margin-left:10px;"},[a.zldyzzxm]),t("br"),t("br"),t("b",{style:"color:#99a9bf"},["专利第一作者工号:"]),t("span",{style:"margin-left:10px;"},[a.zldyzzgh]),t("br"),t("br"),t("b",{style:"color:#99a9bf"},["归属单位:"]),t("span",{style:"margin-left:10px;"},[a.gsdw]),t("br"),t("br"),t("b",{style:"color:#99a9bf"},["所有权人:"]),t("span",{style:"margin-left:10px;"},[a.zlqr]),t("br"),t("br"),t("b",{style:"color:#99a9bf"},["转换状态:"]),t("span",{style:"margin-left:10px;"},[a.state]),t("br"),t("br"),t("b",{style:"color:#99a9bf"},["专利代理人:"]),t("span",{style:"margin-left:10px;"},[a.zldlr]),t("br"),t("br"),t("b",{style:"color:#99a9bf"},["最后更新时间:"]),t("span",{style:"margin-left:10px;"},[a.gmtUpdate])])},tableData:[],tableLoading:!0,exam_type:"待审批",total:0,currentPage:1,Page_url:"",SearchType:"",SearchType_prepend:"查询字段",SearchText:"",choose_loading:!0,choose_Dialog:!1,choose_Data:[],choosed_patents:[],widList:[],top_patent:""}},created:function(){this.refresh()},methods:{refresh:function(){var t=this;t.tableData=[],t.currentPage=1,t.SearchType="",t.SearchType_prepend="查询字段",t.SearchText="",t.exam_type="待审批",console.log(this.$store.state);var e="/cxy/getTransferApplicationFromByCondition?contractType=1&currPage="+t.currentPage+"&size=20&search=0&patentState=5";t.Page_url=e,t.getExam(e)},getExam:function(t){var e=this,a=this;a.request(t,{},"GET",{}).then((function(t){if(console.log(t.data),a.tableLoading=!1,"success"==t.data.status){a.total=t.data.data.total;for(var r=0;r<t.data.data.records.length;r++){var n={};n.id=r+1,n.wid=t.data.data.records[r].wid,n.sqbh=t.data.data.records[r].sqbh,n.zlmc=t.data.data.records[r].zlmc,n.zlh=t.data.data.records[r].zlh,n.zlqr=t.data.data.records[r].zlqr,n.gsdw=t.data.data.records[r].gsdw,n.pzrq=t.data.data.records[r].pzrq,n.zldlr=t.data.data.records[r].zldlr,n.zldyzzgh=t.data.data.records[r].zldyzzgh,n.zldyzzxm=t.data.data.records[r].zldyzzxm,n.zlh=t.data.data.records[r].zlh,n.zlmc=t.data.data.records[r].zlmc,n.paName=t.data.data.records[r].paName,n.transferApplicationFormId=t.data.data.records[r].transferApplicationFormId,n.gmtUpdate=t.data.data.records[r].gmtUpdate,null==t.data.data.records[r].transferProcessId?n.state="未转换":(n.transferProcessId=t.data.data.records[r].transferProcessId,t.data.data.records[r].isWithdraw?n.state="审批表已撤回":t.data.data.records[r].isZldyzzConfirm?t.data.data.records[r].isZldyzzApproval?t.data.data.records[r].isDepartmentConfirm?t.data.data.records[r].isDepartmentApproval?t.data.data.records[r].isComplete?n.state="已转换":t.data.data.records[r].isCxyConfirm?t.data.data.records[r].isCxyApproval?null==t.data.data.records[r].contractInfoId?n.state="等待产学研创建合同":t.data.data.records[r].isPublicNotice?a.TimeDiffer(t.data.data.records[r].publicNoticeTime)?0==t.data.data.records[r].voucherNum?n.state="等待上传到款凭证":null==t.data.data.records[r].checklistId?n.state="等待上传认定清单（备案）":null==t.data.data.records[r].accountingInfoId?n.state="等待生成入账通知单":null==t.data.data.records[r].invoiceId?n.state="等待财务处上传发票":t.data.data.records[r].hasCashReward&&!t.data.data.records[r].isCashRewardPublicNotice?n.state="等待现金奖励公示":t.data.data.records[r].isComplete||(n.state="等待流程结束"):n.state="正在公示中":n.state="等待公示":n.state="产学研未通过":n.state="等待产学研审批":n.state="归属单位未通过":n.state="等待上传所属部门意见":n.state="第一作者未通过":n.state="等待第一作者确认"),a.tableData.push(n)}e.$message.success("数据已更新！")}else e.$message.error(t.data.data.errMsg)})).catch((function(t){console.log(t),a.tableLoading=!1,e.$message.error("出错了！")}))},rehandleExpandChange:function(t){this.expandedRowKeys=t},handleCurrentPage:function(t){var e=this;e.tableLoading=!0,console.log(e.Page_url);var a=e.Page_url.split("currPage")[0]+"currPage="+t+"&size"+e.Page_url.split("size")[1];console.log(a),e.tableData=[],e.currentPage=t,e.getExam(a)},radio_cancelChoose:function(t){t===this.top_patent?this.top_patent="":this.top_patent=t},rehandleSelectChange:function(t,e){var a=e.selectedRowData;this.top_patent="";var r=[];console.log(a);for(var n=0;n<a.length;n++)r.push(a[n].wid);this.choosed_patents=r},addContract:function(){var t=this,e=this;if(console.log(this.top_patent),this.widList=[],0==this.choosed_patents.length)this.$notify.warning({title:"提示",content:"请选择至少一个专利！"});else{if(""!=this.top_patent){this.widList.push(this.top_patent);for(var a=0;a<this.choosed_patents.length;a++)this.choosed_patents[a]!=this.top_patent&&this.widList.push(this.choosed_patents[a])}else for(var r=0;r<this.choosed_patents.length;r++)this.widList.push(this.choosed_patents[r]);console.log(this.widList);var n="";n+=this.widList[0];for(var s=1;s<this.widList.length;s++)n=n+"&widList="+this.widList[1];var o="/contract/checkPatentList?widList="+n;console.log(o),e.request(o,{},"GET",{}).then((function(e){console.log(e),"success"==e.data.status?"OK"==e.data.data&&(t.$notify.success({title:"成功",content:"正在跳转...",duration:1500}),setTimeout((function(){t.$router.push({path:"/filling_contract_licence",query:{widList:t.widList,type:"filling"}})}),1500)):t.$message.error(e.data.data.errMsg)})).catch((function(a){console.log(a),e.tableLoading=!1,t.$message.error("出错了！")}))}},TimeTransfer:function(t){var e=new Date(t),a=e.getFullYear(),r=e.getMonth()+1,n=e.getDate(),s=e.getHours(),o=e.getMinutes(),i=e.getSeconds(),c=a+"-";return r<10&&(c+="0"),c+=r+"-",n<10&&(c+="0"),c+=n+" ",s<10&&(c+="0"),c+=s+":",o<10&&(c+="0"),c+=o+":",i<10&&(c+="0"),c+=i,c},TimeDiffer:function(t){var e=this.TimeTransfer(t),a=new Date,r=new Date(e),n=(a-r)/1e3,s=parseInt(n/86400);parseInt(n/3600),parseInt(n%3600/60),parseInt(n%60);return!0},handleDropdown:function(t){console.log(t);var e=this;switch(e.SearchType_prepend=t,t){case"专利名称":e.SearchType=1;break;case"专利第一作者":e.SearchType=2;break;case"成员名单":e.SearchType=3;break;case"所属学院":e.SearchType=4;break;default:break}},search:function(){var t=this;if(t.tableLoading=!0,"查询字段"==t.SearchType_prepend)this.$message.warning("请填写查询字段！");else if(""==t.SearchText)this.$message.warning("请填写查询内容！");else{var e="";switch(t.tableData=[],t.currentPage=1,t.exam_type){case"待审批":e="/cxy/getTransferApplicationFromByCondition?contractType=1&patentState=5&currPage=1&size=20&search="+t.SearchType+"&condition="+t.SearchText;break;case"正在转换":e="/cxy/getTransferApplicationFromByCondition?contractType=1&patentState=2&currPage=1&size=20&search="+t.SearchType+"&condition="+t.SearchText;break;case"已转换":e="/cxy/getTransferApplicationFromByCondition?contractType=1&patentState=3&currPage=1&size=20&search="+t.SearchType+"&condition="+t.SearchText;break;default:break}console.log(e),t.Page_url=e,t.getExam(e)}},type_change:function(t){console.log(t);var e=this;e.tableLoading=!0,e.tableData=[];var a="";switch(t){case"待审批":a="/cxy/getTransferApplicationFromByCondition?contractType=1&currPage=1&size=20&search=0&patentState=5";break;case"未通过":a="/cxy/getTransferApplicationFromByCondition?contractType=1&currPage=1&size=20&search=0&patentState=4";break;case"已通过":a="/cxy/getTransferApplicationFromByCondition?contractType=1&currPage=1&size=20&search=0&patentState=1";break;case"正在转换":a="/cxy/getTransferApplicationFromByCondition?contractType=1&currPage=1&size=20&search=0&patentState=2";break;case"已转换":a="/cxy/getTransferApplicationFromByCondition?contractType=1&currPage=1&size=20&search=0&patentState=3";break;default:break}e.Page_url=a,e.getExam(a)},getPatent_opreate:function(t){console.log(t),this.$router.push({path:"/exam_detail_pc",query:{wid:t.wid,type:"examing_opreate"}})},getPatent:function(t){console.log(t),this.$router.push({path:"/exam_detail_pc",query:{wid:t.wid,type:"examing"}})},Pass:function(t){var e=this;console.log(t);var a=this;this.$confirm("确认通过吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var r="/process/approvalTransferApplication?transferApplicationFormId="+t.transferApplicationFormId;a.request(r,{},"GET",{}).then((function(t){console.log(t),"success"==t.data.status?(e.$message.success("已通过！"),a.refresh()):e.$message.error(t.data.data.errMsg)})).catch((function(t){console.log(t),e.$message.error("出错了！")}))})).catch((function(){e.$message.info("已取消操作！")}))},Failed:function(t){var e=this,a=this;this.$prompt("请填写拒绝原因","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(r){if(console.log(r.value),null==r.value||""==r.value)e.$message({type:"warning",message:"拒绝原因不能为空！"});else{var n="/process/notApprovalTransferApplication?remarks="+r.value+"&transferApplicationFormId="+t.transferApplicationFormId;a.request(n,{},"GET",{}).then((function(t){console.log(t.data),"success"==t.data.status?(e.$message.success("已拒绝！"),a.refresh()):e.$message.error(t.data.data.errMsg)})).catch((function(t){console.log(t),e.$message.error("出错了！")}))}})).catch((function(t){console.log(t),e.$message.info("已取消操作！")}))}}}),o=s,i=(a("f3a5"),a("2877")),c=Object(i["a"])(o,r,n,!1,null,null,null);e["default"]=c.exports},f3a5:function(t,e,a){"use strict";a("9547")}}]);