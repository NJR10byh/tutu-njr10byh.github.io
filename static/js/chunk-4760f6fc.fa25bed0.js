(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4760f6fc"],{"5bab":function(t,e,a){},"63b3":function(t,e,a){"use strict";a("5bab")},fb5f:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Patents_Container"},[a("div",{staticClass:"head-btn"},[a("div",{staticClass:"Search"},[a("el-dropdown",{staticClass:"Dropdown",on:{command:t.handleDropdown}},[a("el-button",{attrs:{type:"primary"}},[t._v(" 查询字段"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"专利名"}},[t._v("专利名")]),a("el-dropdown-item",{attrs:{command:"成果类型"}},[t._v("成果类型")]),a("el-dropdown-item",{attrs:{command:"转换状态"}},[t._v("转换状态")])],1)],1),a("el-input",{attrs:{placeholder:"请输入需要查询的内容"},model:{value:t.SearchText,callback:function(e){t.SearchText=e},expression:"SearchText"}},[a("template",{slot:"prepend"},[t._v(t._s(t.SearchType))])],2),a("el-button",{attrs:{icon:"el-icon-search"},on:{click:t.search}},[t._v("搜索")])],1),a("div",{staticClass:"newin_refresh"},[a("div",{staticClass:"refresh"},[a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:t.refresh}},[t._v("刷新列表")])],1)])]),a("el-table",{ref:"multipleTable",staticClass:"tablestyle",staticStyle:{width:"100%"},attrs:{id:"outTable",data:t.tableData,"tooltip-effect":"dark",stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"专利号"}},[a("span",[t._v(t._s(e.row.zlh))])]),a("el-form-item",{attrs:{label:"专利名称"}},[a("span",[t._v(t._s(e.row.zlmc))])]),a("el-form-item",{attrs:{label:"授权编号"}},[a("span",[t._v(t._s(e.row.sqbh))])]),a("el-form-item",{attrs:{label:"归属单位"}},[a("span",[t._v(t._s(e.row.gsdw))])]),a("el-form-item",{attrs:{label:"转换状态"}},[a("span",[t._v(t._s(e.row.state))])]),a("el-form-item",{attrs:{label:"专利代理人"}},[a("span",[t._v(t._s(e.row.zldlr))])]),a("el-form-item",{attrs:{label:"专利第一作者姓名"}},[a("span",[t._v(t._s(e.row.zldyzzxm))])]),a("el-form-item",{attrs:{label:"专利第一作者工号"}},[a("span",[t._v(t._s(e.row.zldyzzgh))])]),a("el-form-item",{attrs:{label:"最后更新日期"}},[a("span",[t._v(t._s(e.row.zhgxsj))])])],1)]}}])}),a("el-table-column",{attrs:{prop:"index",label:"序号",width:"70"}}),a("el-table-column",{attrs:{prop:"zlmc",label:"专利名"}}),a("el-table-column",{attrs:{prop:"sqbh",label:"授权编号",width:"150"}}),a("el-table-column",{attrs:{prop:"state",label:"转换状态",width:"280"}}),a("el-table-column",{attrs:{prop:"zhgxsj",label:"最后更新时间",width:"170"}}),a("el-table-column",{attrs:{prop:"setting",label:"操作",width:"230"},scopedSlots:t._u([{key:"default",fn:function(e){return["未转换"==e.row.state?a("el-button",{attrs:{icon:"el-icon-coin"},on:{click:function(a){return t.Price(e.row)}}},[t._v("价格意向")]):t._e(),"未转换"==e.row.state?a("el-button",{attrs:{icon:"el-icon-edit-outline"},on:{click:function(a){return t.handleExam(e.row)}}},[t._v("填写审批")]):t._e(),"未转换"!=e.row.state&&"已转换"!=e.row.state?a("el-button",{attrs:{icon:"el-icon-document"},on:{click:function(a){return t.getPatent(e.row)}}},[t._v("查看审批表")]):t._e()]}}])})],1),a("div",{staticClass:"PagesCurb"},[a("el-pagination",{staticClass:"pages",attrs:{currentPage:t.currentPage,"page-size":10,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentPage}})],1)],1)},s=[],o=a("1da1"),n=(a("96cf"),{data:function(){return{tableData:[],total:0,currentPage:0,SearchType:"查询字段",SearchText:""}},created:function(){this.refresh()},methods:{refresh:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,r,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.tableData=[],a.SearchText="",console.log(t.$store.state),r=t.$store.state.signed_id,s=t.$store.state.signed_username,o="/patent/getMyPatentPage?currPage="+a.currentPage+"&size=10&zldyzzgh="+r+"&zldyzzxm="+s,e.next=9,a.request(o,{},"GET",{}).then((function(e){console.log(e.data.data),a.total=e.data.data.total;for(var r=0;r<e.data.data.records.length;r++){var s={};s.index=r+1,s.wid=e.data.data.records[r].wid,s.sqbh=e.data.data.records[r].sqbh,s.zlmc=e.data.data.records[r].zlmc,s.zlh=e.data.data.records[r].zlh,s.gsdw=e.data.data.records[r].gsdw,s.sqggh=e.data.data.records[r].sqggh,s.zhgxsj=e.data.data.records[r].zhgxsj,s.zldlr=e.data.data.records[r].zldlr,s.zldyzzgh=e.data.data.records[r].zldyzzgh,s.zldyzzxm=e.data.data.records[r].zldyzzxm,s.zlh=e.data.data.records[r].zlh,s.zlmc=e.data.data.records[r].zlmc,null==e.data.data.records[r].transferProcess?s.state="未转换":e.data.data.records[r].transferProcess.isZldyzzConfirm?e.data.data.records[r].transferProcess.isDepartmentConfirm?e.data.data.records[r].transferProcess.isCxyConfirm?e.data.data.records[r].transferProcess.isPublicNotice?a.TimeDiffer(e.data.data.records[r].transferProcess.publicNoticeTime)?null==e.data.data.records[r].transferProcess.contractId?s.state="正在转换：等待上传合同":e.data.data.records[r].transferProcess.isContractSendBack&&null!=e.data.data.records[r].transferProcess.voucherId?null==e.data.data.records[r].transferProcess.checklistId?s.state="正在转换：等待上传认定清单（备案）":null==e.data.data.records[r].transferProcess.invoiceId?s.state="正在转换：等待上传发票":s.state="已转换":s.state="正在转换：等待合同寄回和上传到款凭证":s.state="正在转换：正在公示中":s.state="正在转换：等待公示":s.state="正在转换：等待产学研审批":s.state="正在转换：等待所属单位审批":s.state="正在转换：等待第一作者确认",console.log(a.TimeDiffer(e.data.data.records[r].transferProcess.publicNoticeTime)),a.tableData.push(s)}t.$message({message:"数据已更新",type:"success"})})).catch((function(){t.$message({message:"数据请求失败",type:"error"})}));case 9:a.currentPage=1;case 10:case"end":return e.stop()}}),e)})))()},handleCurrentPage:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,s,o,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e,r.tableData=[],s=e.$store.state.signed_id,o=e.$store.state.signed_username,n="/patent/getMyPatentPage?currPage="+t+"&size=10&zldyzzgh="+s+"&zldyzzxm="+o,a.next=7,r.request(n,{},"GET",{}).then((function(t){console.log(t.data.data),r.total=t.data.data.total;for(var a=0;a<t.data.data.records.length;a++){var s={};s.index=a+1,s.wid=t.data.data.records[a].wid,s.zlmc=t.data.data.records[a].zlmc,s.zlh=t.data.data.records[a].zlh,s.gsdw=t.data.data.records[a].gsdw,s.sqggh=t.data.data.records[a].sqggh,s.zhgxsj=t.data.data.records[a].zhgxsj,s.zldlr=t.data.data.records[a].zldlr,s.zldyzzgh=t.data.data.records[a].zldyzzgh,s.zldyzzxm=t.data.data.records[a].zldyzzxm,s.zlh=t.data.data.records[a].zlh,s.zlmc=t.data.data.records[a].zlmc,null==t.data.data.records[a].transferProcess?s.state="未转换":t.data.data.records[a].transferProcess.isZldyzzConfirm?t.data.data.records[a].transferProcess.isDepartmentConfirm?t.data.data.records[a].transferProcess.isCxyConfirm?t.data.data.records[a].transferProcess.isPublicNotice?t.data.data.records[a].transferProcess.isPublicNotice&&(s.state="正在转换：正在公示中",r.NoticeTime(t.data.data.records[a].transferProcess.publicNoticeTime)):s.state="正在转换：等待公示":s.state="正在转换：等待产学研审批":s.state="正在转换：等待所属单位审批":s.state="正在转换：等待第一作者确认",r.tableData.push(s)}e.$message({message:"数据已更新",type:"success"})})).catch((function(t){e.$message({message:"数据请求失败",type:"error"})}));case 7:r.currentPage=t;case 8:case"end":return a.stop()}}),a)})))()},TimeDiffer:function(t){var e=new Date(t),a=e.getFullYear(),r=e.getMonth()+1,s=e.getDate(),o=e.getHours(),n=e.getMinutes(),d=e.getSeconds(),c=a+"-";r<10&&(c+="0"),c+=r+"-",s<10&&(c+="0"),c+=s+" ",o<10&&(c+="0"),c+=o+":",n<10&&(c+="0"),c+=n+":",d<10&&(c+="0"),c+=d;var l=new Date,i=new Date(c),u=(l-i)/1e3,m=parseInt(u/86400);parseInt(u/3600),parseInt(u%3600/60),parseInt(u%60);return m>15},handleDropdown:function(t){console.log(t);var e=this;e.SearchType=t},search:function(){return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},getPatent:function(t){console.log(t),this.$router.push({path:"/patent_detail_pc",query:{row:t}})}}}),d=n,c=(a("63b3"),a("2877")),l=Object(c["a"])(d,r,s,!1,null,null,null);e["default"]=l.exports}}]);