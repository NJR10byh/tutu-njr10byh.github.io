(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0eaa568b"],{"0573":function(e,t,a){"use strict";a("a4cf")},a4cf:function(e,t,a){},af2c:function(e,t,a){"use strict";a("ac1f"),a("1276"),a("caad"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d");var o=a("4ec3"),i=a("5c96"),n=a.n(i),c=function(e){var t="/file/downloadFileById?fileId="+e;Object(o["a"])(t,{},"GET",{},"arraybuffer").then((function(e){if(console.log(e),void 0==e.headers["content-disposition"])n.a.Notification({title:"错误",message:"文件可能丢失了！",type:"error"});else{var t="",a=e.headers["content-disposition"].split("fileName=")[1].split(".").length,o=e.headers["content-disposition"].split("fileName=")[1].split(".")[a-1];if(["pdf","png","jpg","jpeg"].includes(o)){switch(o){case"pdf":t="application/pdf";break;case"png":t="image/png";break;case"jpg":t="image/jpeg";break;case"jpeg":t="image/jpeg";break}var i=e.data,c=decodeURI(e.headers["content-disposition"].split("fileName=")[1]);if(window.navigator&&window.navigator.msSaveOrOpenBlob){var s=new Blob([i],{type:t});console.log(c),window.navigator.msSaveOrOpenBlob(s,c)}else{var d=new Blob([i],{type:t}),l=window.URL.createObjectURL(d);console.log(l),window.open(l)}}else n.a.Notification({title:"提示",message:"该文件类型暂不支持在线预览，请下载后查看！",type:"warning"})}})).catch((function(e){console.log(e),n.a.Message({message:"出错了！",type:"error"})}))},s=function(e){Object(o["a"])(e,{},"GET",{},"blob").then((function(t){if(console.log(t),void 0!=t.headers["content-disposition"]){n.a.Notification({title:"成功",message:"准备开始下载！",type:"success"});var a=decodeURI(t.headers["content-disposition"].split("fileName=")[1]);try{var i=new Blob([t.data],{type:"application/force-download"}),c=URL.createObjectURL(i),s=document.createElement("a");s.href=c,s.setAttribute("download",a),document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(d){console.log(d),n.a.Message({message:"数据请求失败！",type:"error"})}}else Object(o["a"])(e,{},"GET",{}).then((function(e){n.a.Message({message:e.data.data.errMsg,type:"error"})}))})).catch((function(e){console.log(e),n.a.Message({message:"出错了！",type:"error"})}))},d=function(e,t){var a="";if(0==t.length)n.a.Notification.warning({title:"提示",message:"文件为空！"});else{if(1==t.length)a="/file/downloadPackage?projectCode="+e+"&fileIdList="+t[0];else if(t.length>1){a="/file/downloadPackage?projectCode="+e+"&fileIdList="+t[0];for(var i=1;i<t.length;i++)a=a+"&fileIdList="+t[i]}Object(o["a"])(a,{},"GET",{},"blob").then((function(e){if(void 0!=e.headers["content-disposition"]){n.a.Notification({title:"成功",message:"准备开始下载！",type:"success"});var t=decodeURI(e.headers["content-disposition"].split("fileName=")[1]);try{var a=new Blob([e.data],{type:"application/force-download"}),o=URL.createObjectURL(a),i=document.createElement("a");i.href=o,i.setAttribute("download",t),document.body.appendChild(i),i.click(),document.body.removeChild(i)}catch(c){console.log(c),n.a.Message({message:"数据请求失败！",type:"error"})}}else n.a.Message({message:"文件可能丢失了！",type:"error"})})).catch((function(e){console.log(e),n.a.Message({message:"出错了！",type:"error"})}))}};t["a"]={previewFile:c,downloadFiles:s,downloadFilePackage:d}},f947:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[["root","teacher","superadmin","admin"].includes(this.$store.state.signed_authorize)?a("div",{staticClass:"notice_detail_Container"},[a("div",{staticClass:"notice_title"},[e._v(e._s(e.notice.noticeTitle))]),a("div",{staticClass:"notice_time_info"},[e._v("发布时间: "+e._s(e.notice.updateTime))]),a("div",{staticClass:"notice_content"},[e._v(e._s(e.notice.content))]),null!=e.notice.attachmentId&&null!=e.notice.attachmentName?a("div",{staticClass:"notice_file"},[e._v(" 附件："),a("span",{on:{click:e.download_notice_file}},[e._v(e._s(e.notice.attachmentName))])]):e._e()]):a("div",[a("el-empty",{attrs:{description:"无权限"}},[a("t-button",{attrs:{theme:"primary",size:"large"},on:{click:e.RoleLow_back}},[e._v(" 返回 ")])],1)],1)])},i=[],n=(a("caad"),a("5f87")),c=a("af2c"),s={name:"notice_detail",data:function(){return{notice:{attachmentId:"",attachmentName:"",content:"",createTime:"",noticeId:"",noticeTitle:"",publishUser:"",updateTime:""}}},mounted:function(){Object(n["a"])()},created:function(){var e=this;console.log(this.$route.query),setTimeout((function(){console.log(e.$store.state.signed_authorize),["root","teacher","superadmin","admin"].includes(e.$store.state.signed_authorize)?e.refresh():e.$message.warning("权限不足！")}),300)},methods:{RoleLow_back:function(){window.history.back()},refresh:function(){var e=this,t=this,a="/notice/getNoticeById?noticeId="+this.$route.query.noticeId;t.request(a,{},"GET",{}).then((function(a){console.log(a.data),"success"==a.data.status?(t.notice.attachmentId=a.data.data.attachmentId,t.notice.attachmentName=a.data.data.attachmentName,t.notice.content=a.data.data.content,t.notice.createTime=a.data.data.createTime,t.notice.noticeId=a.data.data.noticeId,t.notice.noticeTitle=a.data.data.noticeTitle,t.notice.publishUser=a.data.data.publishUser,t.notice.updateTime=a.data.data.updateTime):e.$message.error(a.data.data.errMsg)})).catch((function(t){console.log(t),e.$message.error("出错了！")}))},download_notice_file:function(){console.log(this.notice);var e="/notice/downloadAttachment?attachmentId="+this.notice.attachmentId;c["a"].downloadFiles(e)}}},d=s,l=(a("0573"),a("2877")),r=Object(l["a"])(d,o,i,!1,null,null,null);t["default"]=r.exports}}]);